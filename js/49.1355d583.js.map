{"version":3,"file":"js/49.1355d583.js","mappings":"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","sources":["webpack://resep-bunda/./src/views/user/HalamanMateri.vue","webpack://resep-bunda/./src/views/user/HalamanMateri.vue?ad40"],"sourcesContent":["<template>\n  <ion-page>\n    <ion-header mode=\"ios\">\n      <ion-toolbar>\n        <ion-title>Materi</ion-title>\n        <ion-back-button slot=\"start\" default-href=\"/\" />\n      </ion-toolbar>\n    </ion-header>\n    <ion-content :fullscreen=\"true\">\n      <ion-refresher slot=\"fixed\" @ionRefresh=\"doRefresh($event)\">\n        <ion-refresher-content />\n      </ion-refresher>\n      <ion-content class=\"ion-padding\">\n        <ion-grid>\n          <ion-row>\n            <ion-col\n              size=\"12\"\n              size-md=\"6\"\n              v-for=\"materi in filteredMateriList\"\n              :key=\"materi.id\"\n            >\n              <ion-card\n                style=\"background-color: cornflowerblue\"\n                @click=\"openDetailModal(materi.content)\"\n              >\n                <ion-card-header>\n                  <ion-card-title>{{ materi.title }}</ion-card-title>\n                </ion-card-header>\n                <ion-card-content>\n                  <p style=\"color: black\">{{ materi.subjectName }}</p>\n                </ion-card-content>\n              </ion-card>\n            </ion-col>\n          </ion-row>\n        </ion-grid>\n      </ion-content>\n      <ion-modal :is-open=\"isDetailModalOpen\" @did-dismiss=\"closeDetailModal\">\n        <ion-header>\n          <ion-toolbar>\n            <ion-title>Detail Materi</ion-title>\n            <ion-buttons slot=\"end\">\n              <ion-button @click=\"closeDetailModal\">Close</ion-button>\n            </ion-buttons>\n          </ion-toolbar>\n        </ion-header>\n        <ion-content>\n          <div v-html=\"detailContent\"></div>\n        </ion-content>\n      </ion-modal>\n      <ion-toast\n        :is-open=\"toast.isOpen\"\n        :message=\"toast.message\"\n        :duration=\"toast.duration\"\n        :color=\"toast.color\"\n        @did-dismiss=\"() => (toast.isOpen = false)\"\n      ></ion-toast>\n    </ion-content>\n  </ion-page>\n</template>\n\n<script setup>\nimport {\n  IonPage,\n  IonHeader,\n  IonToolbar,\n  IonTitle,\n  IonBackButton,\n  IonContent,\n  IonRefresher,\n  IonRefresherContent,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonCard,\n  IonCardHeader,\n  IonCardTitle,\n  IonCardContent,\n  IonModal,\n  IonButton,\n  IonButtons,\n  IonToast,\n} from \"@ionic/vue\";\nimport { ref, onMounted } from \"vue\";\nimport {\n  getFirestore,\n  collection,\n  getDocs,\n  doc,\n  getDoc,\n} from \"firebase/firestore\";\nimport { getAuth } from \"firebase/auth\";\nimport { firebaseApp } from \"../firebase.js\";\n\nconst db = getFirestore(firebaseApp);\nconst auth = getAuth(firebaseApp);\nconst classes = ref([]);\nconst userClass = ref(\"\");\nconst materiList = ref([]);\nconst filteredMateriList = ref([]);\nconst isDetailModalOpen = ref(false);\nconst detailContent = ref(\"\");\nconst subjects = ref([]);\nconst toast = ref({\n  isOpen: false,\n  message: \"\",\n  duration: 2000,\n  color: \"success\",\n});\n\nonMounted(async () => {\n  await fetchUserClass();\n  await fetchClasses();\n  await fetchSubjects();\n  await fetchMateri();\n});\n\nconst fetchUserClass = async () => {\n  const user = auth.currentUser;\n  if (user) {\n    const userDoc = await getDoc(doc(db, \"users\", user.uid));\n    if (userDoc.exists()) {\n      userClass.value = userDoc.data().kelas;\n    } else {\n      showToast(\"Kelas pengguna tidak ditemukan.\", \"danger\");\n    }\n  } else {\n    showToast(\"Pengguna tidak terautentikasi.\", \"danger\");\n  }\n};\n\nconst fetchClasses = async () => {\n  const querySnapshot = await getDocs(collection(db, \"kelas\"));\n  classes.value = querySnapshot.docs.map((doc) => ({\n    id: doc.id,\n    ...doc.data(),\n  }));\n};\n\nconst fetchSubjects = async () => {\n  const querySnapshot = await getDocs(collection(db, \"mataPelajaran\"));\n  subjects.value = querySnapshot.docs.map((doc) => ({\n    id: doc.id,\n    ...doc.data(),\n  }));\n};\n\nconst fetchMateri = async () => {\n  try {\n    const querySnapshot = await getDocs(collection(db, \"materi\"));\n    materiList.value = querySnapshot.docs.map((doc) => {\n      const data = doc.data();\n      return {\n        id: doc.id,\n        ...data,\n        className:\n          classes.value.find((kelas) => kelas.id === data.class)?.name || \"N/A\",\n        subjectName:\n          subjects.value.find((subject) => subject.id === data.subject)?.name ||\n          \"N/A\",\n      };\n    });\n    filterMateriList();\n  } catch (error) {\n    console.error(\"Error fetching materi:\", error);\n    showToast(\"Terjadi kesalahan saat mengambil data materi.\", \"danger\");\n  }\n};\n\nconst filterMateriList = () => {\n  filteredMateriList.value = materiList.value.filter(\n    (materi) => materi.class === userClass.value\n  );\n};\n\nconst openDetailModal = (content) => {\n  detailContent.value = content;\n  isDetailModalOpen.value = true;\n};\n\nconst closeDetailModal = () => {\n  isDetailModalOpen.value = false;\n};\n\nconst doRefresh = (event) => {\n  setTimeout(() => {\n    fetchMateri();\n    event.target.complete();\n  }, 2000);\n};\n\nconst showToast = (message, color) => {\n  toast.value = {\n    isOpen: true,\n    message,\n    duration: 2000,\n    color,\n  };\n};\n</script>\n\n<style scoped>\n.profile-picture-container {\n  text-align: center;\n  margin-bottom: 20px;\n}\n\n.profile-picture {\n  width: 150px;\n  height: 150px;\n  border-radius: 50%;\n  object-fit: cover;\n}\n\n.upload-button {\n  display: block;\n  margin: 10px auto;\n  cursor: pointer;\n  color: #007bff;\n}\n\n#file-upload {\n  display: none;\n}\n\n#editor-container,\n#editor-edit-container {\n  height: 200px;\n}\ntable {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n}\n\nth,\ntd {\n  border: 1px solid #ddd;\n  padding: 8px;\n  text-align: left;\n}\n\nth {\n  background-color: #f2f2f2;\n  font-weight: bold;\n}\n\ntbody tr:nth-child(even) {\n  background-color: #f9f9f9;\n}\n\ntbody tr:hover {\n  background-color: #f1f1f1;\n}\n</style>\n","import script from \"./HalamanMateri.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HalamanMateri.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HalamanMateri.vue?vue&type=style&index=0&id=064141e8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-064141e8\"]])\n\nexport default __exports__"],"names":["db","getFirestore","firebaseApp","auth","getAuth","classes","ref","userClass","materiList","filteredMateriList","isDetailModalOpen","detailContent","subjects","toast","isOpen","message","duration","color","onMounted","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","fetchUserClass","fetchClasses","fetchSubjects","fetchMateri","stop","_ref2","_callee2","user","userDoc","_context2","currentUser","getDoc","doc","uid","sent","exists","value","data","kelas","showToast","apply","arguments","_ref3","_callee3","querySnapshot","_context3","getDocs","collection","docs","map","_objectSpread","id","_ref4","_callee4","_context4","_ref5","_callee5","_context5","_classes$value$find","_subjects$value$find","className","find","name","subjectName","subject","filterMateriList","t0","console","error","filter","materi","openDetailModal","content","closeDetailModal","doRefresh","event","setTimeout","target","complete","__exports__"],"sourceRoot":""}