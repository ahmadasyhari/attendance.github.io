{"version":3,"file":"js/864.46e8868b.js","mappings":"+GACA,IAAIA,EAAuB,eACvBC,EAAQ,EAAQ,MAChBC,EAAc,EAAQ,MAEtBC,EAAM,MAIVC,EAAOC,QAAU,SAAUC,GACzB,OAAOL,GAAM,WACX,QAASC,EAAYI,MAChBH,EAAIG,OAAmBH,GACtBH,GAAwBE,EAAYI,GAAaC,OAASD,CAClE,GACF,C,iBCdA,IAAIE,EAAI,EAAQ,MACZC,EAAQ,aACRC,EAAyB,EAAQ,MAIrCF,EAAE,CAAEG,OAAQ,SAAUC,OAAO,EAAMC,OAAQH,EAAuB,SAAW,CAC3EI,KAAM,WACJ,OAAOL,EAAMM,KACf,G,uMCwDF,IAAMC,GAAKC,EAAAA,EAAAA,IAAaC,EAAAA,GAClBC,GAASC,EAAAA,EAAAA,IAAI,IACbC,GAAQD,EAAAA,EAAAA,IAAI,CAChBE,QAAQ,EACRC,QAAS,GACTC,SAAU,IACVC,MAAO,YAGHC,EAAU,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAETC,EAAAA,GAAeC,gBAAgB,CAAEC,OAAO,IAAO,cAAAL,EAAAE,KAAA,EAC/CC,EAAAA,GAAeG,iBAAgB,cAAAN,EAAAE,KAAA,EAChBC,EAAAA,GAAeI,YAAW,OAAzCT,EAAME,EAAAQ,KACRV,EAAOW,aACTxB,EAAOyB,MAAQZ,EAAOa,QACtBC,EAAU,4BAA6B,YACxCZ,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAa,GAAAb,EAAA,YAEDc,QAAQC,MAAM,0BAAyBf,EAAAa,IACvCD,EAAU,yBAA0B,UAAU,QAGpB,OAHoBZ,EAAAC,KAAA,GAE9CE,EAAAA,GAAea,iBACfb,EAAAA,GAAec,WAAWjB,EAAAkB,OAAA,6BAAAlB,EAAAmB,OAAA,GAAAtB,EAAA,yBAE7B,kBAhBe,OAAAJ,EAAA2B,MAAA,KAAAC,UAAA,KAkBVC,EAAc,eAAAC,GAAA7B,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAA4B,IAAA,IAAAC,EAAAC,EAAA,OAAA/B,EAAAA,EAAAA,KAAAI,MAAA,SAAA4B,GAAA,eAAAA,EAAA1B,KAAA0B,EAAAzB,MAAA,OAEQ,GADvBuB,GAAOG,EAAAA,EAAAA,IAAQ5C,EAAAA,GACf0C,EAAOD,EAAKI,YACbH,EAAM,CAAFC,EAAAzB,KAAA,QAC8C,OAArDU,EAAU,gCAAiC,UAAUe,EAAAG,OAAA,oBAI3B,KAAxB7C,EAAOyB,MAAM9B,OAAa,CAAA+C,EAAAzB,KAAA,QACsB,OAAlDU,EAAU,6BAA8B,UAAUe,EAAAG,OAAA,wBAAAH,EAAA1B,KAAA,EAAA0B,EAAAzB,KAAA,IAK5C6B,EAAAA,EAAAA,KAAUC,EAAAA,EAAAA,IAAIlD,EAAI,QAAS4C,EAAKO,KAAM,CAC1ChD,OAAQA,EAAOyB,QACf,QACFE,EAAU,+BAAgC,WAAWe,EAAAzB,KAAA,iBAAAyB,EAAA1B,KAAA,GAAA0B,EAAAd,GAAAc,EAAA,YAErDb,QAAQC,MAAM,6BAA4BY,EAAAd,IAC1CD,EAAU,6BAA8B,UAAU,yBAAAe,EAAAR,OAAA,GAAAK,EAAA,mBAErD,kBAtBmB,OAAAD,EAAAH,MAAA,KAAAC,UAAA,KAwBdT,EAAY,SAACvB,EAASE,GAC1BJ,EAAMuB,MAAQ,CACZtB,QAAQ,EACRC,QAAAA,EACAC,SAAU,IACVC,MAAAA,EAEJ,E,srDCvHM2C,EAAc,EAEpB,G","sources":["webpack://resep-bunda/./node_modules/core-js/internals/string-trim-forced.js","webpack://resep-bunda/./node_modules/core-js/modules/es.string.trim.js","webpack://resep-bunda/./src/views/user/HalamanSetting.vue","webpack://resep-bunda/./src/views/user/HalamanSetting.vue?3af9"],"sourcesContent":["'use strict';\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","<template>\r\n  <ion-page>\r\n    <ion-header mode=\"ios\">\r\n      <ion-toolbar>\r\n        <ion-title>Pengaturan</ion-title>\r\n        <ion-back-button slot=\"start\" default-href=\"/\" />\r\n      </ion-toolbar>\r\n    </ion-header>\r\n    <ion-content :fullscreen=\"true\">\r\n      <ion-refresher slot=\"fixed\" @ionRefresh=\"doRefresh($event)\">\r\n        <ion-refresher-content />\r\n      </ion-refresher>\r\n      <ion-content class=\"ion-padding\">\r\n        <!-- QR Code Registration -->\r\n        <ion-item>\r\n          <ion-label position=\"floating\">Kode QR</ion-label>\r\n          <ion-input\r\n            v-model=\"qrCode\"\r\n            placeholder=\"Hasil scan QR Code\"\r\n            readonly\r\n          ></ion-input>\r\n        </ion-item>\r\n        <ion-button @click=\"scanQRCode\" expand=\"block\" color=\"primary\"\r\n          >Scan QR Code</ion-button\r\n        >\r\n        <ion-button @click=\"registerQRCode\" expand=\"block\" color=\"primary\"\r\n          >Daftarkan Kode QR</ion-button\r\n        >\r\n      </ion-content>\r\n      <ion-grid class=\"ion-padding\">\r\n        <!-- Additional content for the grid can be added here -->\r\n      </ion-grid>\r\n      <ion-toast\r\n        :is-open=\"toast.isOpen\"\r\n        :message=\"toast.message\"\r\n        :duration=\"toast.duration\"\r\n        :color=\"toast.color\"\r\n        @did-dismiss=\"toast.isOpen = false\"\r\n      ></ion-toast>\r\n    </ion-content>\r\n  </ion-page>\r\n</template>\r\n\r\n<script setup>\r\nimport {\r\n  IonPage,\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonTitle,\r\n  IonBackButton,\r\n  IonContent,\r\n  IonRefresher,\r\n  IonRefresherContent,\r\n  IonGrid,\r\n  IonItem,\r\n  IonLabel,\r\n  IonInput,\r\n  IonButton,\r\n  IonToast,\r\n} from \"@ionic/vue\";\r\nimport { ref } from \"vue\";\r\nimport { getFirestore, doc, updateDoc } from \"firebase/firestore\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { BarcodeScanner } from \"@capacitor-community/barcode-scanner\";\r\nimport { firebaseApp } from \"../firebase.js\";\r\n\r\nconst db = getFirestore(firebaseApp);\r\nconst qrCode = ref(\"\");\r\nconst toast = ref({\r\n  isOpen: false,\r\n  message: \"\",\r\n  duration: 2000,\r\n  color: \"success\",\r\n});\r\n\r\nconst scanQRCode = async () => {\r\n  try {\r\n    await BarcodeScanner.checkPermission({ force: true });\r\n    await BarcodeScanner.hideBackground(); // make background of WebView transparent\r\n    const result = await BarcodeScanner.startScan(); // start scanning and wait for a result\r\n    if (result.hasContent) {\r\n      qrCode.value = result.content; // Save the scanned content to qrCode\r\n      showToast(\"QR Code berhasil dipindai\", \"success\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error scanning QR code:\", error);\r\n    showToast(\"Error scanning QR code\", \"danger\");\r\n  } finally {\r\n    BarcodeScanner.showBackground();\r\n    BarcodeScanner.stopScan();\r\n  }\r\n};\r\n\r\nconst registerQRCode = async () => {\r\n  const auth = getAuth(firebaseApp);\r\n  const user = auth.currentUser;\r\n  if (!user) {\r\n    showToast(\"Pengguna tidak terautentikasi\", \"danger\");\r\n    return;\r\n  }\r\n\r\n  if (qrCode.value.trim() === \"\") {\r\n    showToast(\"Kode QR tidak boleh kosong\", \"danger\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    await updateDoc(doc(db, \"users\", user.uid), {\r\n      qrCode: qrCode.value,\r\n    });\r\n    showToast(\"Kode QR berhasil didaftarkan\", \"success\");\r\n  } catch (error) {\r\n    console.error(\"Error registering QR code:\", error);\r\n    showToast(\"Gagal mendaftarkan kode QR\", \"danger\");\r\n  }\r\n};\r\n\r\nconst showToast = (message, color) => {\r\n  toast.value = {\r\n    isOpen: true,\r\n    message,\r\n    duration: 2000,\r\n    color,\r\n  };\r\n};\r\n</script>\r\n\r\n<style>\r\n/* Your existing CSS styles here */\r\n</style>\r\n","import script from \"./HalamanSetting.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HalamanSetting.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HalamanSetting.vue?vue&type=style&index=0&id=2a1da68f&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["PROPER_FUNCTION_NAME","fails","whitespaces","non","module","exports","METHOD_NAME","name","$","$trim","forcedStringTrimMethod","target","proto","forced","trim","this","db","getFirestore","firebaseApp","qrCode","ref","toast","isOpen","message","duration","color","scanQRCode","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_context","prev","next","BarcodeScanner","checkPermission","force","hideBackground","startScan","sent","hasContent","value","content","showToast","t0","console","error","showBackground","stopScan","finish","stop","apply","arguments","registerQRCode","_ref2","_callee2","auth","user","_context2","getAuth","currentUser","abrupt","updateDoc","doc","uid","__exports__"],"sourceRoot":""}