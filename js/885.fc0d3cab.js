"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[885],{1285:(e,n,t)=>{var u=t(7908),r=t(1400),a=t(6244);e.exports=function(e){var n=u(this),t=a(n),l=arguments.length,i=r(l>1?arguments[1]:void 0,t),o=l>2?arguments[2]:void 0,s=void 0===o?t:r(o,t);while(s>i)n[i++]=e;return n}},4964:(e,n,t)=>{var u=t(5112),r=u("match");e.exports=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[r]=!1,"/./"[e](n)}catch(u){}}return!1}},7850:(e,n,t)=>{var u=t(111),r=t(4326),a=t(5112),l=a("match");e.exports=function(e){var n;return u(e)&&(void 0!==(n=e[l])?!!n:"RegExp"===r(e))}},3929:(e,n,t)=>{var u=t(7850),r=TypeError;e.exports=function(e){if(u(e))throw r("The method doesn't accept regular expressions");return e}},3290:(e,n,t)=>{var u=t(2109),r=t(1285),a=t(1223);u({target:"Array",proto:!0},{fill:r}),a("fill")},6699:(e,n,t)=>{var u=t(2109),r=t(1318).includes,a=t(7293),l=t(1223),i=a((function(){return!Array(1).includes()}));u({target:"Array",proto:!0,forced:i},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),l("includes")},2023:(e,n,t)=>{var u=t(2109),r=t(1702),a=t(3929),l=t(4488),i=t(1340),o=t(4964),s=r("".indexOf);u({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~s(i(l(this)),i(a(e)),arguments.length>1?arguments[1]:void 0)}})},1885:(e,n,t)=>{t.r(n),t.d(n,{default:()=>S});var u=t(124),r=t(5082),a=t(8534),l=(t(7327),t(1539),t(1249),t(6699),t(2023),t(3290),t(9554),t(4747),t(7658),t(6252)),i=t(2262),o=t(3577),s=t(286),c=t(6100),f=t(2201),d=t(316),v=t(5856),m={key:0},w={key:1};const p={__name:"HalamanUjian",setup:function(e){var n=(0,c.ad)(v.H),t=(0,d.v0)(v.H),p=(0,f.yj)(),U=(0,f.tv)(),h=(0,i.iH)(p.params.jadwalId),S=(0,i.iH)([]),W=(0,i.iH)(0),_=(0,i.iH)([]),g=(0,i.iH)(0),k=(0,i.iH)({isOpen:!1,message:"",duration:2e3,color:"success"}),x=function(){var e=(0,a.Z)((0,u.Z)().mark((function e(){var t,a,l;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,c.QT)((0,c.JU)(n,"jadwal",h.value));case 2:if(t=e.sent,!t.exists()){e.next=10;break}return a=t.data(),e.next=7,(0,c.PL)((0,c.hJ)(n,"soal"));case 7:l=e.sent,S.value=l.docs.map((function(e){return(0,r.Z)({id:e.id},e.data())})).filter((function(e){return a.soal.includes(e.id)})),_.value=new Array(S.value.length).fill("");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){W.value<S.value.length-1||y(),W.value++},y=function(){g.value=0,S.value.forEach((function(e,n){e.correctAnswer===_.value[n]&&g.value++}))},I=function(){var e=(0,a.Z)((0,u.Z)().mark((function e(){var r;return(0,u.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.currentUser,!r){e.next=16;break}return y(),e.prev=3,e.next=6,(0,c.ET)((0,c.hJ)(n,"examResults"),{userId:r.uid,jadwalId:h.value,score:g.value,createdAt:(0,c.Bt)()});case 6:j("Ujian berhasil disubmit!","success"),U.push({name:"siswa"}),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](3),console.error("Error submitting exam:",e.t0),j("Gagal submit ujian.","danger");case 14:e.next=17;break;case 16:j("Pengguna tidak terautentikasi.","danger");case 17:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),j=function(e,n){k.value={isOpen:!0,message:e,duration:2e3,color:n}};return(0,l.bv)((function(){x()})),function(e,n){return(0,l.wg)(),(0,l.j4)((0,i.SU)(s._i),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(s.Gu),{mode:"ios"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(s.sr),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(s.wd),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Ujian")]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(s.W2),{fullscreen:!0},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(s.W2),{class:"ion-padding"},{default:(0,l.w5)((function(){return[W.value<S.value.length?((0,l.wg)(),(0,l.iD)("div",m,[(0,l.Wm)((0,i.SU)(s.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(s.Q$),null,{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(S.value[W.value].question),1)]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(s.se),{modelValue:_.value[W.value],"onUpdate:modelValue":n[0]||(n[0]=function(e){return _.value[W.value]=e})},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(s.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(s.Q$),null,{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(S.value[W.value].options.A),1)]})),_:1}),(0,l.Wm)((0,i.SU)(s.B7),{slot:"start",value:"A"})]})),_:1}),(0,l.Wm)((0,i.SU)(s.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(s.Q$),null,{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(S.value[W.value].options.B),1)]})),_:1}),(0,l.Wm)((0,i.SU)(s.B7),{slot:"start",value:"B"})]})),_:1}),(0,l.Wm)((0,i.SU)(s.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(s.Q$),null,{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(S.value[W.value].options.C),1)]})),_:1}),(0,l.Wm)((0,i.SU)(s.B7),{slot:"start",value:"C"})]})),_:1}),(0,l.Wm)((0,i.SU)(s.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(s.Q$),null,{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(S.value[W.value].options.D),1)]})),_:1}),(0,l.Wm)((0,i.SU)(s.B7),{slot:"start",value:"D"})]})),_:1}),(0,l.Wm)((0,i.SU)(s.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(s.Q$),null,{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(S.value[W.value].options.E),1)]})),_:1}),(0,l.Wm)((0,i.SU)(s.B7),{slot:"start",value:"E"})]})),_:1})]})),_:1},8,["modelValue"]),(0,l.Wm)((0,i.SU)(s.YG),{onClick:b},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(W.value===S.value.length-1?"Finish":"Next"),1)]})),_:1})])):((0,l.wg)(),(0,l.iD)("div",w,[(0,l.Wm)((0,i.SU)(s.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(s.Q$),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Nilai Anda: "+(0,o.zw)(g.value),1)]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(s.YG),{onClick:I},{default:(0,l.w5)((function(){return[(0,l.Uk)("Submit Exam")]})),_:1})]))]})),_:1}),(0,l.Wm)((0,i.SU)(s.Px),{"is-open":k.value.isOpen,message:k.value.message,duration:k.value.duration,color:k.value.color,onDidDismiss:n[1]||(n[1]=function(){return k.value.isOpen=!1})},null,8,["is-open","message","duration","color"])]})),_:1})]})),_:1})}}};var U=t(3744);const h=(0,U.Z)(p,[["__scopeId","data-v-f79a5aa8"]]),S=h}}]);
//# sourceMappingURL=885.fc0d3cab.js.map