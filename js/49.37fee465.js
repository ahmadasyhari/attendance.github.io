"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[49],{3049:(n,e,t)=>{t.r(e),t.d(e,{default:()=>k});var u=t(3144),r=t(124),a=t(8534),i=(t(1249),t(9826),t(1539),t(8309),t(7327),t(2564),t(6252)),l=t(2262),c=t(3577),o=t(1661),s=t(6100),f=t(316),d=t(5856),m={style:{color:"black"}},v=["innerHTML"];const p={__name:"HalamanMateri",setup:function(n){var e=(0,s.ad)(d.H),t=(0,f.v0)(d.H),p=(0,l.iH)([]),w=(0,l.iH)(""),U=(0,l.iH)([]),k=(0,l.iH)([]),_=(0,l.iH)(!1),W=(0,l.iH)(""),h=(0,l.iH)([]),S=(0,l.iH)({isOpen:!1,message:"",duration:2e3,color:"success"});(0,i.bv)((0,a.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Z();case 2:return n.next=4,g();case 4:return n.next=6,x();case 6:return n.next=8,b();case 8:case"end":return n.stop()}}),n)}))));var Z=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){var u,a;return(0,r.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(u=t.currentUser,!u){n.next=8;break}return n.next=4,(0,s.QT)((0,s.JU)(e,"users",u.uid));case 4:a=n.sent,a.exists()?w.value=a.data().kelas:N("Kelas pengguna tidak ditemukan.","danger"),n.next=9;break;case 8:N("Pengguna tidak terautentikasi.","danger");case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),g=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){var t;return(0,r.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,s.PL)((0,s.hJ)(e,"kelas"));case 2:t=n.sent,p.value=t.docs.map((function(n){return(0,u.Z)({id:n.id},n.data())}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),x=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){var t;return(0,r.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,s.PL)((0,s.hJ)(e,"mataPelajaran"));case 2:t=n.sent,h.value=t.docs.map((function(n){return(0,u.Z)({id:n.id},n.data())}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),b=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(){var t;return(0,r.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,s.PL)((0,s.hJ)(e,"materi"));case 3:t=n.sent,U.value=t.docs.map((function(n){var e,t,r=n.data();return(0,u.Z)((0,u.Z)({id:n.id},r),{},{className:(null===(e=p.value.find((function(n){return n.id===r["class"]})))||void 0===e?void 0:e.name)||"N/A",subjectName:(null===(t=h.value.find((function(n){return n.id===r.subject})))||void 0===t?void 0:t.name)||"N/A"})})),H(),n.next=12;break;case 8:n.prev=8,n.t0=n["catch"](0),console.error("Error fetching materi:",n.t0),N("Terjadi kesalahan saat mengambil data materi.","danger");case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}(),H=function(){k.value=U.value.filter((function(n){return n["class"]===w.value}))},j=function(n){W.value=n,_.value=!0},y=function(){_.value=!1},D=function(n){setTimeout((function(){b(),n.target.complete()}),2e3)},N=function(n,e){S.value={isOpen:!0,message:n,duration:2e3,color:e}};return function(n,e){return(0,i.wg)(),(0,i.j4)((0,l.SU)(o._i),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(o.Gu),{mode:"ios"},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(o.sr),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(o.wd),null,{default:(0,i.w5)((function(){return[(0,i.Uk)("Materi")]})),_:1}),(0,i.Wm)((0,l.SU)(o.oU),{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,i.Wm)((0,l.SU)(o.W2),{fullscreen:!0},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(o.nJ),{slot:"fixed",onIonRefresh:e[0]||(e[0]=function(n){return D(n)})},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(o.Wo))]})),_:1}),(0,i.Wm)((0,l.SU)(o.W2),{class:"ion-padding"},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(o.jY),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(o.Nd),null,{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(k.value,(function(n){return(0,i.wg)(),(0,i.j4)((0,l.SU)(o.wI),{size:"12","size-md":"6",key:n.id},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(o.PM),{style:{"background-color":"cornflowerblue"},onClick:function(e){return j(n.content)}},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(o.Zi),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(o.Dq),null,{default:(0,i.w5)((function(){return[(0,i.Uk)((0,c.zw)(n.title),1)]})),_:2},1024)]})),_:2},1024),(0,i.Wm)((0,l.SU)(o.FN),null,{default:(0,i.w5)((function(){return[(0,i._)("p",m,(0,c.zw)(n.subjectName),1)]})),_:2},1024)]})),_:2},1032,["onClick"])]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1}),(0,i.Wm)((0,l.SU)(o.ki),{"is-open":_.value,onDidDismiss:y},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(o.Gu),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(o.sr),null,{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(o.wd),null,{default:(0,i.w5)((function(){return[(0,i.Uk)("Detail Materi")]})),_:1}),(0,i.Wm)((0,l.SU)(o.Sm),{slot:"end"},{default:(0,i.w5)((function(){return[(0,i.Wm)((0,l.SU)(o.YG),{onClick:y},{default:(0,i.w5)((function(){return[(0,i.Uk)("Close")]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,i.Wm)((0,l.SU)(o.W2),null,{default:(0,i.w5)((function(){return[(0,i._)("div",{innerHTML:W.value},null,8,v)]})),_:1})]})),_:1},8,["is-open"]),(0,i.Wm)((0,l.SU)(o.Px),{"is-open":S.value.isOpen,message:S.value.message,duration:S.value.duration,color:S.value.color,onDidDismiss:e[1]||(e[1]=function(){return S.value.isOpen=!1})},null,8,["is-open","message","duration","color"])]})),_:1})]})),_:1})}}};var w=t(3744);const U=(0,w.Z)(p,[["__scopeId","data-v-064141e8"]]),k=U}}]);
//# sourceMappingURL=49.37fee465.js.map