"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[209],{3209:(n,e,t)=>{t.r(e),t.d(e,{default:()=>U});var a=t(124),u=t(5082),r=t(8534),l=(t(1539),t(8783),t(3948),t(1249),t(8309),t(3710),t(2564),t(6252)),i=t(2262),s=t(3577),o=t(286),c=t(6100),f=t(316),d=t(5856),m=function(n){return(0,l.dD)("data-v-f090925a"),n=n(),(0,l.Cn)(),n},w=m((function(){return(0,l._)("h2",null,"Daftar Hasil Ujian",-1)})),_=m((function(){return(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Nama Ujian"),(0,l._)("th",null,"Nilai"),(0,l._)("th",null,"Tanggal")])],-1)}));const p={__name:"LihatHasilUjian",setup:function(n){var e=(0,c.ad)(d.H),t=(0,f.v0)(d.H),m=(0,i.iH)([]),p=(0,i.iH)({isOpen:!1,message:"",duration:2e3,color:"success"}),v=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(){var l,i,s,o;return(0,a.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(l=t.currentUser,!l){n.next=20;break}return n.prev=2,i=(0,c.IO)((0,c.hJ)(e,"examResults/".concat(l.uid,"/results"))),n.next=6,(0,c.PL)(i);case 6:return s=n.sent,n.next=9,Promise.all(s.docs.map(function(){var n=(0,r.Z)((0,a.Z)().mark((function n(t){var r,l,i,s;return(0,a.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.data(),n.next=3,(0,c.QT)((0,c.JU)(e,"jadwal",r.jadwalId));case 3:if(l=n.sent,!l.exists()){n.next=10;break}return i=l.data(),n.next=8,(0,c.QT)((0,c.JU)(e,"mataPelajaran",i.mataPelajaran));case 8:s=n.sent,s.exists()&&(r.mataPelajaranName=s.data().name);case 10:return n.abrupt("return",(0,u.Z)({id:t.id},r));case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 9:o=n.sent,m.value=o,console.log("Hasil ujian:",m.value),n.next=18;break;case 14:n.prev=14,n.t0=n["catch"](2),console.error("Error fetching exam results:",n.t0),U("Terjadi kesalahan saat mengambil data hasil ujian.","danger");case 18:n.next=21;break;case 20:U("Pengguna tidak terautentikasi.","danger");case 21:case"end":return n.stop()}}),n,null,[[2,14]])})));return function(){return n.apply(this,arguments)}}(),h=function(n){if(!n)return"N/A";var e=new Date(1e3*n.seconds);return e.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})},U=function(n,e){p.value={isOpen:!0,message:n,duration:2e3,color:e}},g=function(n){setTimeout((function(){v(),n.target.complete()}),2e3)};return(0,l.bv)((function(){v()})),function(n,e){var t=(0,l.up)("ion-col"),a=(0,l.up)("ion-row");return(0,l.wg)(),(0,l.j4)((0,i.SU)(o._i),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(o.Gu),{mode:"ios"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(o.sr),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(o.wd),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Hasil Ujian")]})),_:1}),(0,l.Wm)((0,i.SU)(o.oU),{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(o.W2),{fullscreen:!0},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(o.nJ),{slot:"fixed",onIonRefresh:e[0]||(e[0]=function(n){return g(n)})},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(o.Wo))]})),_:1}),(0,l.Wm)((0,i.SU)(o.W2),{class:"ion-padding"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(o.jY),null,{default:(0,l.w5)((function(){return[(0,l.Wm)(a,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(t,null,{default:(0,l.w5)((function(){return[w,(0,l.Wm)((0,i.SU)(o.q_),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(o.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(o.Q$),null,{default:(0,l.w5)((function(){return[(0,l._)("table",null,[_,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(m.value,(function(n){return(0,l.wg)(),(0,l.iD)("tr",{key:n.id},[(0,l._)("td",null,(0,s.zw)(n.mataPelajaranName),1),(0,l._)("td",null,(0,s.zw)(n.score),1),(0,l._)("td",null,(0,s.zw)(h(n.createdAt)),1)])})),128))])])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(o.Px),{"is-open":p.value.isOpen,message:p.value.message,duration:p.value.duration,color:p.value.color,onDidDismiss:e[1]||(e[1]=function(){return p.value.isOpen=!1})},null,8,["is-open","message","duration","color"])]})),_:1})]})),_:1})}}};var v=t(3744);const h=(0,v.Z)(p,[["__scopeId","data-v-f090925a"]]),U=h}}]);
//# sourceMappingURL=209.b0cd1f22.js.map