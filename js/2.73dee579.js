"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[2],{3009:(n,e,a)=>{var u=a(7854),t=a(7293),r=a(1702),l=a(1340),i=a(3111).trim,o=a(1361),c=u.parseInt,s=u.Symbol,d=s&&s.iterator,f=/^[+-]?0x/i,v=r(f.exec),w=8!==c(o+"08")||22!==c(o+"0x16")||d&&!t((function(){c(Object(d))}));n.exports=w?function(n,e){var a=i(l(n));return c(a,e>>>0||(v(f,a)?16:10))}:c},1058:(n,e,a)=>{var u=a(2109),t=a(3009);u({global:!0,forced:parseInt!==t},{parseInt:t})},6002:(n,e,a)=>{a.r(e),a.d(e,{default:()=>U});var u=a(124),t=a(5082),r=a(8534),l=(a(1249),a(1058),a(3710),a(7327),a(1539),a(9826),a(8309),a(6252)),i=a(2262),o=a(3577),c=a(286),s=a(6100),d=a(5856),f=function(n){return(0,l.dD)("data-v-2bd199e5"),n=n(),(0,l.Cn)(),n},v=f((function(){return(0,l._)("h2",null,"Daftar Jadwal Ujian",-1)})),w={class:"table"},p=f((function(){return(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Tanggal"),(0,l._)("th",null,"Kelas"),(0,l._)("th",null,"Mata Pelajaran"),(0,l._)("th",null,"Durasi (Menit)"),(0,l._)("th",null,"Soal"),(0,l._)("th",null,"Aksi")])],-1)}));const m={__name:"JadwalUjian",setup:function(n){var e=(0,s.ad)(d.H),a=(0,i.iH)(""),f=(0,i.iH)(""),m=(0,i.iH)(""),h=(0,i.iH)(0),k=(0,i.iH)([]),U=(0,i.iH)([]),g=(0,i.iH)([]),_=(0,i.iH)(!1),j=(0,i.iH)({isOpen:!1,message:"",duration:2e3,color:"success"}),S=(0,i.iH)([]),b=(0,i.iH)([]),W=function(){var n=(0,r.Z)((0,u.Z)().mark((function n(){var a;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,s.PL)((0,s.hJ)(e,"mataPelajaran"));case 2:a=n.sent,S.value=a.docs.map((function(n){return(0,t.Z)({id:n.id},n.data())}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),x=function(){var n=(0,r.Z)((0,u.Z)().mark((function n(){var a;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,s.PL)((0,s.hJ)(e,"kelas"));case 2:a=n.sent,b.value=a.docs.map((function(n){return(0,t.Z)({id:n.id},n.data())}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Z=function(){var n=(0,r.Z)((0,u.Z)().mark((function n(){var a;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,s.PL)((0,s.hJ)(e,"soal"));case 3:a=n.sent,U.value=a.docs.map((function(n){return(0,t.Z)({id:n.id},n.data())})),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),console.error("Error fetching soal:",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}(),y=function(){var n=(0,r.Z)((0,u.Z)().mark((function n(){var a;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,s.PL)((0,s.IO)((0,s.hJ)(e,"jadwal"),(0,s.Xo)("tanggalUjian")));case 3:a=n.sent,g.value=a.docs.map((function(n){return(0,t.Z)((0,t.Z)({id:n.id},n.data()),{},{soalCount:n.data().soal.length})})),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](0),console.error("Error fetching jadwal:",n.t0),J("Terjadi kesalahan saat mengambil data jadwal.","danger");case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}(),P=function(n){console.log("Durasi ujian input event:",n.target.value),h.value=parseInt(n.target.value)},H=function(){var n=(0,r.Z)((0,u.Z)().mark((function n(){return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log("tanggalUjian:",a.value),console.log("kelas:",f.value),console.log("mataPelajaran:",m.value),console.log("durasiUjian:",h.value),console.log("selectedSoal:",k.value),a.value&&f.value&&m.value&&!(h.value<=0)&&0!==k.value.length){n.next=8;break}return J("Harap lengkapi semua field.","danger"),n.abrupt("return");case 8:return n.prev=8,n.next=11,(0,s.ET)((0,s.hJ)(e,"jadwal"),{tanggalUjian:a.value,kelas:f.value,mataPelajaran:m.value,durasi:h.value,soal:k.value,aktif:!0});case 11:J("Jadwal ujian berhasil dibuat.","success"),D(),y(),n.next=20;break;case 16:n.prev=16,n.t0=n["catch"](8),console.error("Error creating jadwal:",n.t0),J("Terjadi kesalahan saat membuat jadwal ujian.","danger");case 20:case"end":return n.stop()}}),n,null,[[8,16]])})));return function(){return n.apply(this,arguments)}}(),D=function(){a.value="",f.value="",m.value="",h.value=0,k.value=[]},I=function(){var n=(0,r.Z)((0,u.Z)().mark((function n(a){return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,s.oe)((0,s.JU)(e,"jadwal",a));case 3:J("Jadwal ujian berhasil dihapus.","success"),y(),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](0),console.error("Error deleting jadwal:",n.t0),J("Terjadi kesalahan saat menghapus jadwal ujian.","danger");case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),V=function(){var n=(0,r.Z)((0,u.Z)().mark((function n(a,t){return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,s.r7)((0,s.JU)(e,"jadwal",a),{aktif:!t});case 3:J("Status jadwal ujian berhasil diubah.","success"),y(),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](0),console.error("Error updating jadwal status:",n.t0),J("Terjadi kesalahan saat mengubah status jadwal.","danger");case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,a){return n.apply(this,arguments)}}(),Y=function(n){if(!n)return"N/A";var e=new Date(n);return e.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})},C=(0,l.Fl)((function(){return U.value.filter((function(n){return n["class"]===f.value&&n.subject===m.value}))}));(0,l.YP)([f,m],(function(){k.value=[]})),(0,l.bv)((function(){W(),x(),Z(),y()}));var J=function(n,e){j.value={isOpen:!0,message:n,duration:2e3,color:e}},M=function(n){var e=S.value.find((function(e){return e.id===n}));return e?e.name:"Unknown"},z=function(n){var e=b.value.find((function(e){return e.id===n}));return e?e.name:"Unknown"};return function(n,e){var u=(0,l.up)("ion-input");return(0,l.wg)(),(0,l.j4)((0,i.SU)(c._i),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Gu),{mode:"ios"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.sr),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.wd),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Buat Jadwal Ujian")]})),_:1}),(0,l.Wm)((0,i.SU)(c.oU),{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(c.W2),{fullscreen:!0},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.W2),{class:"ion-padding"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Q$),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Tanggal Ujian")]})),_:1}),(0,l.Wm)((0,i.SU)(c.YG),{onClick:e[0]||(e[0]=function(n){return _.value=!0})},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(a.value?Y(a.value):"Pilih Tanggal"),1)]})),_:1}),_.value?((0,l.wg)(),(0,l.j4)((0,i.SU)(c.x4),{key:0,modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=function(n){return a.value=n}),"display-format":"DD MMM YYYY",placeholder:"Pilih Tanggal",onIonChange:e[2]||(e[2]=function(n){return _.value=!1})},null,8,["modelValue"])):(0,l.kq)("",!0)]})),_:1}),(0,l.Wm)((0,i.SU)(c.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Q$),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Kelas")]})),_:1}),(0,l.Wm)((0,i.SU)(c.t9),{modelValue:f.value,"onUpdate:modelValue":e[3]||(e[3]=function(n){return f.value=n}),placeholder:"Pilih Kelas"},{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(b.value,(function(n){return(0,l.wg)(),(0,l.j4)((0,i.SU)(c.n0),{key:n.id,value:n.id},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(n.name),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,l.Wm)((0,i.SU)(c.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Q$),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Mata Pelajaran")]})),_:1}),(0,l.Wm)((0,i.SU)(c.t9),{modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=function(n){return m.value=n}),placeholder:"Pilih Mata Pelajaran"},{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(S.value,(function(n){return(0,l.wg)(),(0,l.j4)((0,i.SU)(c.n0),{key:n.id,value:n.id},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(n.name),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,l.Wm)((0,i.SU)(c.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Q$),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Durasi Ujian (Menit)")]})),_:1}),(0,l.Wm)(u,{modelValue:h.value,"onUpdate:modelValue":e[5]||(e[5]=function(n){return h.value=n}),modelModifiers:{number:!0},type:"number",placeholder:"Masukkan durasi ujian dalam menit",onInput:P},null,8,["modelValue"])]})),_:1}),(0,l.Wm)((0,i.SU)(c.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Q$),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Pilih Soal")]})),_:1}),(0,l.Wm)((0,i.SU)(c.t9),{multiple:"",modelValue:k.value,"onUpdate:modelValue":e[6]||(e[6]=function(n){return k.value=n}),placeholder:"Pilih Soal"},{default:(0,l.w5)((function(){return[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(C.value,(function(n){return(0,l.wg)(),(0,l.j4)((0,i.SU)(c.n0),{key:n.id,value:n.id},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(n.question),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,l.Wm)((0,i.SU)(c.YG),{expand:"block",onClick:H},{default:(0,l.w5)((function(){return[(0,l.Uk)("Buat Jadwal Ujian")]})),_:1}),(0,l.Wm)((0,i.SU)(c.jY),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Nd),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.wI),null,{default:(0,l.w5)((function(){return[v,(0,l.Wm)((0,i.SU)(c.q_),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Q$),null,{default:(0,l.w5)((function(){return[(0,l._)("table",w,[p,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(g.value,(function(n){return(0,l.wg)(),(0,l.iD)("tr",{key:n.id},[(0,l._)("td",null,(0,o.zw)(Y(n.tanggalUjian)),1),(0,l._)("td",null,(0,o.zw)(z(n.kelas)),1),(0,l._)("td",null,(0,o.zw)(M(n.mataPelajaran)),1),(0,l._)("td",null,(0,o.zw)(n.durasi),1),(0,l._)("td",null,(0,o.zw)(n.soalCount),1),(0,l._)("td",null,[(0,l.Wm)((0,i.SU)(c.YG),{onClick:function(e){return I(n.id)}},{default:(0,l.w5)((function(){return[(0,l.Uk)("Hapus")]})),_:2},1032,["onClick"]),(0,l.Wm)((0,i.SU)(c.YG),{color:n.aktif?"danger":"success",onClick:function(e){return V(n.id,n.aktif)}},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(n.aktif?"Nonaktifkan":"Aktifkan"),1)]})),_:2},1032,["color","onClick"])])])})),128))])])]})),_:1})]})),_:1})]})),_:1}),n.showLoadMore?((0,l.wg)(),(0,l.j4)((0,i.SU)(c.YG),{key:0,expand:"block",onClick:n.loadMore},{default:(0,l.w5)((function(){return[(0,l.Uk)("Load More")]})),_:1},8,["onClick"])):(0,l.kq)("",!0)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(c.Px),{"is-open":j.value.isOpen,message:j.value.message,duration:j.value.duration,color:j.value.color,onDidDismiss:e[7]||(e[7]=function(){return j.value.isOpen=!1})},null,8,["is-open","message","duration","color"])]})),_:1})]})),_:1})}}};var h=a(3744);const k=(0,h.Z)(m,[["__scopeId","data-v-2bd199e5"]]),U=k}}]);
//# sourceMappingURL=2.73dee579.js.map