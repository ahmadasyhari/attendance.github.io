"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[89],{6089:(n,e,a)=>{a.r(e),a.d(e,{default:()=>p});var t=a(124),u=a(5082),l=a(8534),r=(a(1539),a(8783),a(3948),a(1249),a(7327),a(3710),a(6252)),i=a(2262),o=a(3577),s=a(286),c=a(6100),d=a(5856),f=function(n){return(0,r.dD)("data-v-aef96c60"),n=n(),(0,r.Cn)(),n},m=f((function(){return(0,r._)("h2",null,"Daftar Hasil Ujian",-1)})),w=f((function(){return(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,"Nama Siswa"),(0,r._)("th",null,"Mata Pelajaran"),(0,r._)("th",null,"Nilai"),(0,r._)("th",null,"Tanggal")])],-1)}));const _={__name:"LihatNilai",setup:function(n){var e=(0,c.ad)(d.H),a=["X","XI","XII"],f=["Matematika","Bahasa Indonesia","Bahasa Inggris","IPA","IPS"],_=(0,i.iH)(""),v=(0,i.iH)(""),U=(0,i.iH)([]),p=(0,i.iH)([]),h=(0,i.iH)({isOpen:!1,message:"",duration:2e3,color:"success"}),S=function(){var n=(0,l.Z)((0,t.Z)().mark((function n(){var a,r;return(0,t.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.PL)((0,c.hJ)(e,"examResults"));case 3:return a=n.sent,n.next=6,Promise.all(a.docs.map(function(){var n=(0,l.Z)((0,t.Z)().mark((function n(a){var l,r,i,o;return(0,t.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return l=a.data(),r=(0,c.JU)(e,"users",l.userId),n.next=4,(0,c.QT)(r);case 4:return i=n.sent,n.next=7,(0,c.QT)((0,c.JU)(e,"jadwal",l.jadwalId));case 7:return o=n.sent,n.abrupt("return",(0,u.Z)((0,u.Z)({id:a.id},l),{},{studentName:i.exists()?i.data().fullName:"N/A",kelas:i.exists()?i.data().kelas:"N/A",mataPelajaran:o.exists()?o.data().mataPelajaran:"N/A"}));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 6:r=n.sent,U.value=r,n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](0),console.error("Error fetching exam results:",n.t0),g("Terjadi kesalahan saat mengambil data hasil ujian.","danger");case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}(),k=function(){_.value&&v.value?p.value=U.value.filter((function(n){return n.kelas===_.value&&n.mataPelajaran===v.value})):g("Pilih kelas dan mata pelajaran.","warning")},W=function(n){if(!n)return"N/A";var e=new Date(1e3*n.seconds);return e.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})},g=function(n,e){h.value={isOpen:!0,message:n,duration:2e3,color:e}};return(0,r.bv)((function(){S()})),function(n,e){return(0,r.wg)(),(0,r.j4)((0,i.SU)(s._i),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(s.Gu),{mode:"ios"},{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(s.sr),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(s.wd),null,{default:(0,r.w5)((function(){return[(0,r.Uk)("Hasil Ujian Siswa")]})),_:1}),(0,r.Wm)((0,i.SU)(s.oU),{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,r.Wm)((0,i.SU)(s.W2),{fullscreen:!0},{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(s.W2),{class:"ion-padding"},{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(s.Ie),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(s.Q$),null,{default:(0,r.w5)((function(){return[(0,r.Uk)("Kelas")]})),_:1}),(0,r.Wm)((0,i.SU)(s.t9),{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=function(n){return _.value=n}),placeholder:"Pilih Kelas"},{default:(0,r.w5)((function(){return[((0,r.wg)(),(0,r.iD)(r.HY,null,(0,r.Ko)(a,(function(n){return(0,r.Wm)((0,i.SU)(s.n0),{key:n,value:n},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,o.zw)(n),1)]})),_:2},1032,["value"])})),64))]})),_:1},8,["modelValue"])]})),_:1}),(0,r.Wm)((0,i.SU)(s.Ie),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(s.Q$),null,{default:(0,r.w5)((function(){return[(0,r.Uk)("Mata Pelajaran")]})),_:1}),(0,r.Wm)((0,i.SU)(s.t9),{modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=function(n){return v.value=n}),placeholder:"Pilih Mata Pelajaran"},{default:(0,r.w5)((function(){return[((0,r.wg)(),(0,r.iD)(r.HY,null,(0,r.Ko)(f,(function(n){return(0,r.Wm)((0,i.SU)(s.n0),{key:n,value:n},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,o.zw)(n),1)]})),_:2},1032,["value"])})),64))]})),_:1},8,["modelValue"])]})),_:1}),(0,r.Wm)((0,i.SU)(s.YG),{expand:"block",onClick:k},{default:(0,r.w5)((function(){return[(0,r.Uk)("Filter")]})),_:1}),(0,r.Wm)((0,i.SU)(s.jY),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(s.Nd),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(s.wI),null,{default:(0,r.w5)((function(){return[m,(0,r.Wm)((0,i.SU)(s.q_),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(s.Ie),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(s.Q$),null,{default:(0,r.w5)((function(){return[(0,r._)("table",null,[w,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(p.value,(function(n){return(0,r.wg)(),(0,r.iD)("tr",{key:n.id},[(0,r._)("td",null,(0,o.zw)(n.studentName),1),(0,r._)("td",null,(0,o.zw)(n.mataPelajaran),1),(0,r._)("td",null,(0,o.zw)(n.score),1),(0,r._)("td",null,(0,o.zw)(W(n.createdAt)),1)])})),128))])])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)((0,i.SU)(s.Px),{"is-open":h.value.isOpen,message:h.value.message,duration:h.value.duration,color:h.value.color,onDidDismiss:e[2]||(e[2]=function(){return h.value.isOpen=!1})},null,8,["is-open","message","duration","color"])]})),_:1})]})),_:1})}}};var v=a(3744);const U=(0,v.Z)(_,[["__scopeId","data-v-aef96c60"]]),p=U}}]);
//# sourceMappingURL=89.7dd77934.js.map