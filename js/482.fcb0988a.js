"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[482],{7482:(n,e,t)=>{t.r(e),t.d(e,{default:()=>k});var a=t(124),u=t(3144),r=t(8534),l=(t(1249),t(7327),t(1539),t(3710),t(2564),t(8309),t(6252)),i=t(2262),o=t(3577),c=t(1661),s=t(6100),f=t(5856),d=t(4105),m=function(n){return(0,l.dD)("data-v-5d5284f8"),n=n(),(0,l.Cn)(),n},w=m((function(){return(0,l._)("h2",null,"Daftar Hasil Ujian",-1)})),_={class:"table-container"},v=m((function(){return(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Nama Siswa"),(0,l._)("th",null,"Kelas"),(0,l._)("th",null,"Mata Pelajaran"),(0,l._)("th",null,"Nilai"),(0,l._)("th",null,"Tanggal")])],-1)}));const p={__name:"LihatNilai",setup:function(n){var e=(0,s.ad)(f.H),t=(0,i.iH)([]),m=(0,i.iH)([]),p=(0,i.iH)([]),U=(0,i.iH)(""),h=(0,i.iH)(""),k=(0,i.iH)({isOpen:!1,message:"",duration:2e3,color:"success"}),S=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(){var r,l;return(0,a.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,s.PL)((0,s.hJ)(e,"nilaiUjian"));case 3:r=n.sent,l=r.docs.map((function(n){return(0,u.Z)({id:n.id},n.data())})),t.value=l,console.log("Hasil ujian:",t.value),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](0),console.error("Error fetching exam results:",n.t0),P("Terjadi kesalahan saat mengambil data hasil ujian.","danger");case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}(),g=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(){var t;return(0,a.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,s.PL)((0,s.hJ)(e,"kelas"));case 2:t=n.sent,m.value=t.docs.map((function(n){return(0,u.Z)({id:n.id},n.data())}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),W=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(){var t;return(0,a.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,s.PL)((0,s.hJ)(e,"mataPelajaran"));case 2:t=n.sent,p.value=t.docs.map((function(n){return(0,u.Z)({id:n.id},n.data())}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),j=(0,l.Fl)((function(){return t.value.filter((function(n){var e=!U.value||n.kelasName===U.value,t=!h.value||n.mataPelajaranName===h.value;return e&&t}))})),x=function(){console.log("Filter applied")},H=function(n){if(!n)return"N/A";var e=new Date(1e3*n.seconds);return e.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})},b=function(){var n=d.P6.json_to_sheet(j.value),e=d.P6.book_new();d.P6.book_append_sheet(e,n,"Hasil Ujian"),d.NC(e,"hasil_ujian.xlsx")},P=function(n,e){k.value={isOpen:!0,message:n,duration:2e3,color:e}},Z=function(n){setTimeout((function(){S(),n.target.complete()}),2e3)};return(0,l.bv)((function(){S(),g(),W()})),function(n,e){return(0,l.wg)(),(0,l.j4)((0,i.SU)(c._i),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Gu),{mode:"ios"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.sr),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.wd),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Hasil Ujian")]})),_:1}),(0,l.Wm)((0,i.SU)(c.oU),{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(c.W2),{fullscreen:!0},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.nJ),{slot:"fixed",onIonRefresh:e[0]||(e[0]=function(n){return Z(n)})},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Wo))]})),_:1}),(0,l.Wm)((0,i.SU)(c.W2),{class:"ion-padding"},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Q$),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Filter Kelas")]})),_:1}),(0,l.Wm)((0,i.SU)(c.t9),{modelValue:U.value,"onUpdate:modelValue":e[1]||(e[1]=function(n){return U.value=n}),onIonChange:x},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.n0),{value:""},{default:(0,l.w5)((function(){return[(0,l.Uk)("Semua Kelas")]})),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(m.value,(function(n){return(0,l.wg)(),(0,l.j4)((0,i.SU)(c.n0),{key:n.id,value:n.name},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(n.name),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,l.Wm)((0,i.SU)(c.Ie),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Q$),null,{default:(0,l.w5)((function(){return[(0,l.Uk)("Filter Mata Pelajaran")]})),_:1}),(0,l.Wm)((0,i.SU)(c.t9),{modelValue:h.value,"onUpdate:modelValue":e[2]||(e[2]=function(n){return h.value=n}),onIonChange:x},{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.n0),{value:""},{default:(0,l.w5)((function(){return[(0,l.Uk)("Semua Mata Pelajaran")]})),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(p.value,(function(n){return(0,l.wg)(),(0,l.j4)((0,i.SU)(c.n0),{key:n.id,value:n.name},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(n.name),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,l.Wm)((0,i.SU)(c.YG),{style:{color:"white"},expand:"block",onClick:b},{default:(0,l.w5)((function(){return[(0,l.Uk)(" Ekspor ke Excel ")]})),_:1}),(0,l.Wm)((0,i.SU)(c.jY),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.Nd),null,{default:(0,l.w5)((function(){return[(0,l.Wm)((0,i.SU)(c.wI),null,{default:(0,l.w5)((function(){return[w,(0,l._)("div",_,[(0,l._)("table",null,[v,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(j.value,(function(n){return(0,l.wg)(),(0,l.iD)("tr",{key:n.id},[(0,l._)("td",null,(0,o.zw)(n.userName),1),(0,l._)("td",null,(0,o.zw)(n.kelasName),1),(0,l._)("td",null,(0,o.zw)(n.mataPelajaranName),1),(0,l._)("td",null,[(0,l.Wm)((0,i.SU)(c.yp),{color:n.score<65?"danger":"success"},{default:(0,l.w5)((function(){return[(0,l.Uk)((0,o.zw)(n.score),1)]})),_:2},1032,["color"])]),(0,l._)("td",null,(0,o.zw)(H(n.createdAt)),1)])})),128))])])])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,l.Wm)((0,i.SU)(c.Px),{"is-open":k.value.isOpen,message:k.value.message,duration:k.value.duration,color:k.value.color,onDidDismiss:e[3]||(e[3]=function(){return k.value.isOpen=!1})},null,8,["is-open","message","duration","color"])]})),_:1})]})),_:1})}}};var U=t(3744);const h=(0,U.Z)(p,[["__scopeId","data-v-5d5284f8"]]),k=h}}]);
//# sourceMappingURL=482.fcb0988a.js.map