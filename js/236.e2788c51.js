"use strict";(self["webpackChunkresep_bunda"]=self["webpackChunkresep_bunda"]||[]).push([[236],{6236:(n,e,a)=>{a.r(e),a.d(e,{default:()=>U});var u=a(124),t=a(5082),l=a(8534),r=(a(1249),a(3710),a(7327),a(1539),a(6252)),i=a(2262),o=a(3577),c=a(286),s=a(6100),d=a(5856),f=function(n){return(0,r.dD)("data-v-1c336450"),n=n(),(0,r.Cn)(),n},w=f((function(){return(0,r._)("h2",null,"Daftar Jadwal Ujian",-1)})),v={class:"table"},m=f((function(){return(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,"Tanggal"),(0,r._)("th",null,"Kelas"),(0,r._)("th",null,"Mata Pelajaran"),(0,r._)("th",null,"Soal"),(0,r._)("th",null,"Aksi")])],-1)}));const p={__name:"JadwalUjian",setup:function(n){var e=(0,s.ad)(d.H),a=(0,i.iH)(""),f=(0,i.iH)(""),p=(0,i.iH)(""),h=(0,i.iH)([]),k=(0,i.iH)([]),U=(0,i.iH)([]),_=(0,i.iH)(!1),g=(0,i.iH)({isOpen:!1,message:"",duration:2e3,color:"success"}),j=["Matematika","Bahasa Indonesia","Bahasa Inggris","IPA","IPS"],S=["Kelas 1","Kelas 2","Kelas 3","Kelas 4","Kelas 5","Kelas 6"],W=function(){var n=(0,l.Z)((0,u.Z)().mark((function n(){var a;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,s.PL)((0,s.hJ)(e,"soal"));case 3:a=n.sent,k.value=a.docs.map((function(n){return(0,t.Z)({id:n.id},n.data())})),console.log("Daftar Soal:",k.value),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),console.error("Error fetching soal:",n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}(),b=function(){var n=(0,l.Z)((0,u.Z)().mark((function n(){var a;return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,s.PL)((0,s.IO)((0,s.hJ)(e,"jadwal"),(0,s.Xo)("tanggalUjian")));case 3:a=n.sent,U.value=a.docs.map((function(n){return(0,t.Z)((0,t.Z)({id:n.id},n.data()),{},{soalCount:n.data().soal.length})})),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](0),console.error("Error fetching jadwal:",n.t0),Y("Terjadi kesalahan saat mengambil data jadwal.","danger");case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}(),x=function(){var n=(0,l.Z)((0,u.Z)().mark((function n(){return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a.value&&f.value&&p.value&&0!==h.value.length){n.next=3;break}return Y("Harap lengkapi semua field.","danger"),n.abrupt("return");case 3:return n.prev=3,n.next=6,(0,s.ET)((0,s.hJ)(e,"jadwal"),{tanggalUjian:a.value,kelas:f.value,mataPelajaran:p.value,soal:h.value,aktif:!0});case 6:Y("Jadwal ujian berhasil dibuat.","success"),Z(),b(),n.next=15;break;case 11:n.prev=11,n.t0=n["catch"](3),console.error("Error creating jadwal:",n.t0),Y("Terjadi kesalahan saat membuat jadwal ujian.","danger");case 15:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(){return n.apply(this,arguments)}}(),Z=function(){a.value="",f.value="",p.value="",h.value=[]},P=function(){var n=(0,l.Z)((0,u.Z)().mark((function n(a){return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,s.oe)((0,s.JU)(e,"jadwal",a));case 3:Y("Jadwal ujian berhasil dihapus.","success"),b(),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](0),console.error("Error deleting jadwal:",n.t0),Y("Terjadi kesalahan saat menghapus jadwal ujian.","danger");case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),y=function(){var n=(0,l.Z)((0,u.Z)().mark((function n(a,t){return(0,u.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,s.r7)((0,s.JU)(e,"jadwal",a),{aktif:!t});case 3:Y("Status jadwal ujian berhasil diubah.","success"),b(),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](0),console.error("Error updating jadwal status:",n.t0),Y("Terjadi kesalahan saat mengubah status jadwal.","danger");case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,a){return n.apply(this,arguments)}}(),D=function(n){if(!n)return"N/A";var e=new Date(n);return e.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})},H=(0,r.Fl)((function(){return k.value.filter((function(n){return n["class"]===f.value&&n.subject===p.value}))}));(0,r.YP)([f,p],(function(){h.value=[]})),(0,r.bv)((function(){W(),b()}));var Y=function(n,e){g.value={isOpen:!0,message:n,duration:2e3,color:e}};return function(n,e){return(0,r.wg)(),(0,r.j4)((0,i.SU)(c._i),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(c.Gu),{mode:"ios"},{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(c.sr),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(c.wd),null,{default:(0,r.w5)((function(){return[(0,r.Uk)("Buat Jadwal Ujian")]})),_:1}),(0,r.Wm)((0,i.SU)(c.oU),{slot:"start","default-href":"/"})]})),_:1})]})),_:1}),(0,r.Wm)((0,i.SU)(c.W2),{fullscreen:!0},{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(c.W2),{class:"ion-padding"},{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(c.Ie),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(c.Q$),null,{default:(0,r.w5)((function(){return[(0,r.Uk)("Tanggal Ujian")]})),_:1}),(0,r.Wm)((0,i.SU)(c.YG),{onClick:e[0]||(e[0]=function(n){return _.value=!0})},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,o.zw)(a.value?D(a.value):"Pilih Tanggal"),1)]})),_:1}),_.value?((0,r.wg)(),(0,r.j4)((0,i.SU)(c.x4),{key:0,modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=function(n){return a.value=n}),"display-format":"DD MMM YYYY",placeholder:"Pilih Tanggal",onIonChange:e[2]||(e[2]=function(n){return _.value=!1})},null,8,["modelValue"])):(0,r.kq)("",!0)]})),_:1}),(0,r.Wm)((0,i.SU)(c.Ie),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(c.Q$),null,{default:(0,r.w5)((function(){return[(0,r.Uk)("Kelas")]})),_:1}),(0,r.Wm)((0,i.SU)(c.t9),{modelValue:f.value,"onUpdate:modelValue":e[3]||(e[3]=function(n){return f.value=n}),placeholder:"Pilih Kelas"},{default:(0,r.w5)((function(){return[((0,r.wg)(),(0,r.iD)(r.HY,null,(0,r.Ko)(S,(function(n){return(0,r.Wm)((0,i.SU)(c.n0),{key:n,value:n},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,o.zw)(n),1)]})),_:2},1032,["value"])})),64))]})),_:1},8,["modelValue"])]})),_:1}),(0,r.Wm)((0,i.SU)(c.Ie),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(c.Q$),null,{default:(0,r.w5)((function(){return[(0,r.Uk)("Mata Pelajaran")]})),_:1}),(0,r.Wm)((0,i.SU)(c.t9),{modelValue:p.value,"onUpdate:modelValue":e[4]||(e[4]=function(n){return p.value=n}),placeholder:"Pilih Mata Pelajaran"},{default:(0,r.w5)((function(){return[((0,r.wg)(),(0,r.iD)(r.HY,null,(0,r.Ko)(j,(function(n){return(0,r.Wm)((0,i.SU)(c.n0),{key:n,value:n},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,o.zw)(n),1)]})),_:2},1032,["value"])})),64))]})),_:1},8,["modelValue"])]})),_:1}),(0,r.Wm)((0,i.SU)(c.Ie),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(c.Q$),null,{default:(0,r.w5)((function(){return[(0,r.Uk)("Pilih Soal")]})),_:1}),(0,r.Wm)((0,i.SU)(c.t9),{multiple:"",modelValue:h.value,"onUpdate:modelValue":e[5]||(e[5]=function(n){return h.value=n}),placeholder:"Pilih Soal"},{default:(0,r.w5)((function(){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(H.value,(function(n){return(0,r.wg)(),(0,r.j4)((0,i.SU)(c.n0),{key:n.id,value:n.id},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,o.zw)(n.question),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,r.Wm)((0,i.SU)(c.YG),{expand:"block",onClick:x},{default:(0,r.w5)((function(){return[(0,r.Uk)("Buat Jadwal Ujian")]})),_:1}),(0,r.Wm)((0,i.SU)(c.jY),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(c.Nd),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(c.wI),null,{default:(0,r.w5)((function(){return[w,(0,r.Wm)((0,i.SU)(c.q_),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(c.Ie),null,{default:(0,r.w5)((function(){return[(0,r.Wm)((0,i.SU)(c.Q$),null,{default:(0,r.w5)((function(){return[(0,r._)("table",v,[m,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(U.value,(function(n){return(0,r.wg)(),(0,r.iD)("tr",{key:n.id},[(0,r._)("td",null,(0,o.zw)(D(n.tanggalUjian)),1),(0,r._)("td",null,(0,o.zw)(n.kelas),1),(0,r._)("td",null,(0,o.zw)(n.mataPelajaran),1),(0,r._)("td",null,(0,o.zw)(n.soalCount),1),(0,r._)("td",null,[(0,r.Wm)((0,i.SU)(c.YG),{onClick:function(e){return P(n.id)}},{default:(0,r.w5)((function(){return[(0,r.Uk)("Hapus")]})),_:2},1032,["onClick"]),(0,r.Wm)((0,i.SU)(c.YG),{onClick:function(e){return y(n.id,n.aktif)}},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,o.zw)(n.aktif?"Nonaktifkan":"Aktifkan"),1)]})),_:2},1032,["onClick"])])])})),128))])])]})),_:1})]})),_:1})]})),_:1}),n.showLoadMore?((0,r.wg)(),(0,r.j4)((0,i.SU)(c.YG),{key:0,expand:"block",onClick:n.loadMore},{default:(0,r.w5)((function(){return[(0,r.Uk)("Load More")]})),_:1},8,["onClick"])):(0,r.kq)("",!0)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)((0,i.SU)(c.Px),{"is-open":g.value.isOpen,message:g.value.message,duration:g.value.duration,color:g.value.color,onDidDismiss:e[6]||(e[6]=function(){return g.value.isOpen=!1})},null,8,["is-open","message","duration","color"])]})),_:1})]})),_:1})}}};var h=a(3744);const k=(0,h.Z)(p,[["__scopeId","data-v-1c336450"]]),U=k}}]);
//# sourceMappingURL=236.e2788c51.js.map