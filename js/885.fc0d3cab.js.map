{"version":3,"file":"js/885.fc0d3cab.js","mappings":"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","sources":["webpack://resep-bunda/./node_modules/core-js/internals/array-fill.js","webpack://resep-bunda/./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack://resep-bunda/./node_modules/core-js/internals/is-regexp.js","webpack://resep-bunda/./node_modules/core-js/internals/not-a-regexp.js","webpack://resep-bunda/./node_modules/core-js/modules/es.array.fill.js","webpack://resep-bunda/./node_modules/core-js/modules/es.array.includes.js","webpack://resep-bunda/./node_modules/core-js/modules/es.string.includes.js","webpack://resep-bunda/./src/views/user/HalamanUjian.vue","webpack://resep-bunda/./src/views/user/HalamanUjian.vue?70f7"],"sourcesContent":["'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = lengthOfArrayLike(O);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) === 'RegExp');\n};\n","'use strict';\nvar isRegExp = require('../internals/is-regexp');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw $TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.es/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar fails = require('../internals/fails');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// FF99+ bug\nvar BROKEN_ON_SPARSE = fails(function () {\n  // eslint-disable-next-line es/no-array-prototype-includes -- detection\n  return !Array(1).includes();\n});\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: BROKEN_ON_SPARSE }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\nvar stringIndexOf = uncurryThis(''.indexOf);\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~stringIndexOf(\n      toString(requireObjectCoercible(this)),\n      toString(notARegExp(searchString)),\n      arguments.length > 1 ? arguments[1] : undefined\n    );\n  }\n});\n","<template>\n  <ion-page>\n    <ion-header mode=\"ios\">\n      <ion-toolbar>\n        <ion-title>Ujian</ion-title>\n      </ion-toolbar>\n    </ion-header>\n    <ion-content :fullscreen=\"true\">\n      <ion-content class=\"ion-padding\">\n        <div v-if=\"currentQuestionIndex < questions.length\">\n          <ion-item>\n            <ion-label>{{\n              questions[currentQuestionIndex].question\n            }}</ion-label>\n          </ion-item>\n          <ion-radio-group v-model=\"answers[currentQuestionIndex]\">\n            <ion-item>\n              <ion-label>{{\n                questions[currentQuestionIndex].options.A\n              }}</ion-label>\n              <ion-radio slot=\"start\" value=\"A\"></ion-radio>\n            </ion-item>\n            <ion-item>\n              <ion-label>{{\n                questions[currentQuestionIndex].options.B\n              }}</ion-label>\n              <ion-radio slot=\"start\" value=\"B\"></ion-radio>\n            </ion-item>\n            <ion-item>\n              <ion-label>{{\n                questions[currentQuestionIndex].options.C\n              }}</ion-label>\n              <ion-radio slot=\"start\" value=\"C\"></ion-radio>\n            </ion-item>\n            <ion-item>\n              <ion-label>{{\n                questions[currentQuestionIndex].options.D\n              }}</ion-label>\n              <ion-radio slot=\"start\" value=\"D\"></ion-radio>\n            </ion-item>\n            <ion-item>\n              <ion-label>{{\n                questions[currentQuestionIndex].options.E\n              }}</ion-label>\n              <ion-radio slot=\"start\" value=\"E\"></ion-radio>\n            </ion-item>\n          </ion-radio-group>\n          <ion-button @click=\"nextQuestion\">\n            {{\n              currentQuestionIndex === questions.length - 1 ? \"Finish\" : \"Next\"\n            }}\n          </ion-button>\n        </div>\n        <div v-else>\n          <ion-item>\n            <ion-label>Nilai Anda: {{ score }}</ion-label>\n          </ion-item>\n          <ion-button @click=\"submitExam\">Submit Exam</ion-button>\n        </div>\n      </ion-content>\n      <ion-toast\n        :is-open=\"toast.isOpen\"\n        :message=\"toast.message\"\n        :duration=\"toast.duration\"\n        :color=\"toast.color\"\n        @did-dismiss=\"() => (toast.isOpen = false)\"\n      ></ion-toast>\n    </ion-content>\n  </ion-page>\n</template>\n\n<script setup>\nimport {\n  IonPage,\n  IonHeader,\n  IonToolbar,\n  IonTitle,\n  IonContent,\n  IonItem,\n  IonLabel,\n  IonRadioGroup,\n  IonRadio,\n  IonButton,\n  IonToast,\n} from \"@ionic/vue\";\nimport { ref, onMounted } from \"vue\";\nimport {\n  getFirestore,\n  doc,\n  getDoc,\n  collection,\n  getDocs,\n  addDoc,\n  serverTimestamp,\n} from \"firebase/firestore\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { getAuth } from \"firebase/auth\";\nimport { firebaseApp } from \"../firebase.js\";\n\nconst db = getFirestore(firebaseApp);\nconst auth = getAuth(firebaseApp);\nconst route = useRoute();\nconst router = useRouter();\nconst jadwalId = ref(route.params.jadwalId);\nconst questions = ref([]);\nconst currentQuestionIndex = ref(0);\nconst answers = ref([]);\nconst score = ref(0);\nconst toast = ref({\n  isOpen: false,\n  message: \"\",\n  duration: 2000,\n  color: \"success\",\n});\n\nconst fetchQuestions = async () => {\n  const jadwalDoc = await getDoc(doc(db, \"jadwal\", jadwalId.value));\n  if (jadwalDoc.exists()) {\n    const jadwalData = jadwalDoc.data();\n    const questionsSnapshot = await getDocs(collection(db, \"soal\"));\n    questions.value = questionsSnapshot.docs\n      .map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }))\n      .filter((question) => jadwalData.soal.includes(question.id));\n    answers.value = new Array(questions.value.length).fill(\"\");\n  }\n};\n\nconst nextQuestion = () => {\n  if (currentQuestionIndex.value < questions.value.length - 1) {\n    currentQuestionIndex.value++;\n  } else {\n    calculateScore();\n    currentQuestionIndex.value++; // Tambahkan ini untuk memastikan kita masuk ke bagian else di template\n  }\n};\n\nconst calculateScore = () => {\n  score.value = 0;\n  questions.value.forEach((question, index) => {\n    if (question.correctAnswer === answers.value[index]) {\n      score.value++;\n    }\n  });\n};\n\nconst submitExam = async () => {\n  const user = auth.currentUser;\n  if (user) {\n    calculateScore();\n    try {\n      await addDoc(collection(db, \"examResults\"), {\n        userId: user.uid,\n        jadwalId: jadwalId.value,\n        score: score.value,\n        createdAt: serverTimestamp(),\n      });\n      showToast(\"Ujian berhasil disubmit!\", \"success\");\n      router.push({ name: \"siswa\" });\n    } catch (error) {\n      console.error(\"Error submitting exam:\", error);\n      showToast(\"Gagal submit ujian.\", \"danger\");\n    }\n  } else {\n    showToast(\"Pengguna tidak terautentikasi.\", \"danger\");\n  }\n};\n\nconst showToast = (message, color) => {\n  toast.value = {\n    isOpen: true,\n    message,\n    duration: 2000,\n    color,\n  };\n};\n\nonMounted(() => {\n  fetchQuestions();\n});\n</script>\n\n<style scoped>\n/* Custom styling if needed */\n</style>\n","import script from \"./HalamanUjian.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HalamanUjian.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HalamanUjian.vue?vue&type=style&index=0&id=f79a5aa8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f79a5aa8\"]])\n\nexport default __exports__"],"names":["toObject","toAbsoluteIndex","lengthOfArrayLike","module","exports","value","O","this","length","argumentsLength","arguments","index","undefined","end","endPos","wellKnownSymbol","MATCH","METHOD_NAME","regexp","error1","error2","isObject","classof","it","isRegExp","$TypeError","TypeError","$","fill","addToUnscopables","target","proto","$includes","fails","BROKEN_ON_SPARSE","Array","includes","forced","el","uncurryThis","notARegExp","requireObjectCoercible","toString","correctIsRegExpLogic","stringIndexOf","indexOf","searchString","db","getFirestore","firebaseApp","auth","getAuth","route","useRoute","router","useRouter","jadwalId","ref","params","questions","currentQuestionIndex","answers","score","toast","isOpen","message","duration","color","fetchQuestions","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","jadwalDoc","jadwalData","questionsSnapshot","wrap","_context","prev","next","getDoc","doc","sent","exists","data","getDocs","collection","docs","map","_objectSpread","id","filter","question","soal","stop","apply","nextQuestion","calculateScore","forEach","correctAnswer","submitExam","_ref2","_callee2","user","_context2","currentUser","addDoc","userId","uid","createdAt","serverTimestamp","showToast","push","name","t0","console","error","onMounted","__exports__"],"sourceRoot":""}