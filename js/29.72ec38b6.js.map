{"version":3,"file":"js/29.72ec38b6.js","mappings":"8SAiBA,IAAMA,GAASC,EAAAA,EAAAA,MACTC,GAAKC,EAAAA,EAAAA,OAEXC,EAAAA,EAAAA,KAAU,WACRC,GACF,IAEA,IAAMA,EAAiB,WACrB,IAAMC,GAAOC,EAAAA,EAAAA,OACbC,EAAAA,EAAAA,IAAmBF,EAAI,eAAAG,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAE,SAAAC,EAAOC,GAAI,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAR,EAAAA,EAAAA,KAAAS,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,WAC9BT,EAAM,CAAFO,EAAAE,KAAA,eAAAF,EAAAE,KAAA,GACgBC,EAAAA,EAAAA,KAAOC,EAAAA,EAAAA,IAAIvB,EAAI,QAASY,EAAKY,MAAK,OAAlDX,EAAOM,EAAAM,KACTZ,EAAQa,UACJZ,EAAWD,EAAQc,OACnBZ,EAAWD,EAASc,KACpBZ,EAAYF,EAASe,MACrBZ,EAAaH,EAASgB,OAEX,UAAbf,EACiB,aAAfE,EACFnB,EAAOiC,KAAK,CAAEC,KAAM,QAASC,MAAO,CAAEC,QAAS,cACrClB,EAMVlB,EAAOiC,KAAK,CAAEI,KAAM,WALpBrC,EAAOiC,KAAK,CACVC,KAAM,qBACNC,MAAO,CAAEC,QAAS,aAMH,aAAfjB,EACFnB,EAAOiC,KAAK,CAAEC,KAAM,QAASC,MAAO,CAAEC,QAAS,cACzB,UAAbnB,EACTjB,EAAOiC,KAAK,CAAEI,KAAM,WACE,SAAbpB,EACTjB,EAAOiC,KAAK,CAAEI,KAAM,UACE,YAAbpB,EACTjB,EAAOiC,KAAK,CAAEI,KAAM,aAEpBrC,EAAOiC,KAAK,CAAEC,KAAM,WAIxBlC,EAAOiC,KAAK,CAAEC,KAAM,UACrBb,EAAAE,KAAA,eAEDvB,EAAOiC,KAAK,CAAEC,KAAM,UAAW,wBAAAb,EAAAiB,OAAA,GAAAzB,EAAA,KAElC,gBAAA0B,GAAA,OAAA9B,EAAA+B,MAAA,KAAAC,UAAA,EAvCsB,GAwCzB,E,sRC7DMC,EAAc,EAEpB,G","sources":["webpack://resep-bunda/./src/views/SplashScreen.vue","webpack://resep-bunda/./src/views/SplashScreen.vue?08fe"],"sourcesContent":["<template>\n  <ion-page>\n    <ion-content class=\"splash\">\n      <div class=\"container\">\n        <ion-spinner name=\"dots\" class=\"loader\" />\n      </div>\n    </ion-content>\n  </ion-page>\n</template>\n\n<script setup>\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport { getFirestore, doc, getDoc } from \"firebase/firestore\";\nimport { onMounted } from \"vue\";\nimport { IonContent, IonPage, IonSpinner } from \"@ionic/vue\";\nimport { useRouter } from \"vue-router\";\n\nconst router = useRouter();\nconst db = getFirestore();\n\nonMounted(() => {\n  checkAuthState();\n});\n\nconst checkAuthState = () => {\n  const auth = getAuth();\n  onAuthStateChanged(auth, async (user) => {\n    if (user) {\n      const userDoc = await getDoc(doc(db, \"users\", user.uid));\n      if (userDoc.exists()) {\n        const userData = userDoc.data();\n        const userRole = userData.role;\n        const userClass = userData.kelas;\n        const userStatus = userData.status;\n\n        if (userRole === \"siswa\") {\n          if (userStatus === \"nonaktif\") {\n            router.push({ name: \"login\", query: { message: \"nonaktif\" } });\n          } else if (!userClass) {\n            router.push({\n              name: \"halamansettingUser\",\n              query: { message: \"nokelas\" },\n            });\n          } else {\n            router.push({ path: \"/siswa\" });\n          }\n        } else {\n          if (userStatus === \"nonaktif\") {\n            router.push({ name: \"login\", query: { message: \"nonaktif\" } });\n          } else if (userRole === \"admin\") {\n            router.push({ path: \"/admin\" });\n          } else if (userRole === \"guru\") {\n            router.push({ path: \"/guru\" });\n          } else if (userRole === \"petugas\") {\n            router.push({ path: \"/petugas\" });\n          } else {\n            router.push({ name: \"login\" });\n          }\n        }\n      } else {\n        router.push({ name: \"login\" });\n      }\n    } else {\n      router.push({ name: \"login\" });\n    }\n  });\n};\n</script>\n\n<style>\nion-content.splash {\n  --background: #f5f5f3;\n}\n.splash .container {\n  margin-top: 60%;\n}\n.splash .container img.logo {\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  height: 250px;\n  width: 250px;\n  border-radius: 50%;\n  border: 5px solid white;\n}\n.splash h2.titleApp {\n  font-weight: 600;\n  text-align: center;\n  font-size: 2rem;\n  text-shadow: 1px 0px 1px #cccccc, 0px 1px 1px #eeeeee, 2px 1px 1px #cccccc,\n    1px 2px 1px #eeeeee, 3px 2px 1px #cccccc, 2px 3px 1px #eeeeee,\n    4px 3px 1px #cccccc, 3px 4px 1px #eeeeee, 5px 4px 1px #cccccc,\n    4px 5px 1px #eeeeee, 6px 5px 1px #cccccc, 5px 6px 1px #eeeeee,\n    7px 6px 1px #cccccc, 2px 2px 2px rgba(206, 206, 206, 0);\n  color: #444444;\n  margin-top: 0;\n}\n.splash .container .loader {\n  margin-top: -50px;\n  width: 100%;\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n}\n.splash ion-spinner.loader {\n  transform: scale(1.5);\n}\n</style>\n","import script from \"./SplashScreen.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SplashScreen.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SplashScreen.vue?vue&type=style&index=0&id=bfe32ab8&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["router","useRouter","db","getFirestore","onMounted","checkAuthState","auth","getAuth","onAuthStateChanged","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","user","userDoc","userData","userRole","userClass","userStatus","wrap","_context","prev","next","getDoc","doc","uid","sent","exists","data","role","kelas","status","push","name","query","message","path","stop","_x","apply","arguments","__exports__"],"sourceRoot":""}