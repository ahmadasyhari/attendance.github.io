{"version":3,"file":"js/556.2149f770.js","mappings":"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","sources":["webpack://resep-bunda/./src/views/admin/HalamanPengguna.vue","webpack://resep-bunda/./src/views/admin/HalamanPengguna.vue?6f49"],"sourcesContent":["<template>\r\n  <ion-page>\r\n    <ion-header mode=\"ios\">\r\n      <ion-toolbar>\r\n        <ion-title>Pengguna</ion-title>\r\n        <ion-back-button slot=\"start\" default-href=\"/\" />\r\n      </ion-toolbar>\r\n    </ion-header>\r\n    <ion-content :fullscreen=\"true\">\r\n      <ion-refresher slot=\"fixed\" @ionRefresh=\"doRefresh($event)\">\r\n        <ion-refresher-content />\r\n      </ion-refresher>\r\n      <ion-content class=\"ion-padding\">\r\n        <ion-item>\r\n          <ion-label>Cari Pengguna</ion-label>\r\n          <ion-input\r\n            v-model=\"searchQuery\"\r\n            placeholder=\"Masukkan nama pengguna\"\r\n          ></ion-input>\r\n        </ion-item>\r\n        <ion-button style=\"color: white\" expand=\"block\" @click=\"filterUsers\"\r\n          >Cari</ion-button\r\n        >\r\n        <div class=\"table-container\">\r\n          <ion-grid>\r\n            <ion-row>\r\n              <ion-col>\r\n                <h2>Daftar Pengguna</h2>\r\n                <div class=\"table-wrapper\">\r\n                  <table>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Nama Lengkap</th>\r\n                        <th>Username</th>\r\n                        <th>Email</th>\r\n                        <th>Role</th>\r\n                        <th>Kelas</th>\r\n                        <th>Status</th>\r\n                        <th>Aksi</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr v-for=\"user in filteredUsers\" :key=\"user.id\">\r\n                        <td>{{ user.fullName }}</td>\r\n                        <td>{{ user.username }}</td>\r\n                        <td>{{ user.email }}</td>\r\n                        <td>{{ user.role }}</td>\r\n                        <td>{{ getClassname(user.kelas) }}</td>\r\n                        <td>{{ user.status }}</td>\r\n                        <td>\r\n                          <ion-button\r\n                            style=\"color: white\"\r\n                            @click=\"editUser(user)\"\r\n                            >Edit</ion-button\r\n                          >\r\n                          <ion-button\r\n                            @click=\"changeStatus(user)\"\r\n                            :color=\"\r\n                              user.status === 'aktif' ? 'danger' : 'success'\r\n                            \"\r\n                          >\r\n                            {{\r\n                              user.status === \"aktif\"\r\n                                ? \"Nonaktifkan\"\r\n                                : \"Aktifkan\"\r\n                            }}\r\n                          </ion-button>\r\n                          <ion-button\r\n                            style=\"color: white\"\r\n                            @click=\"resetPassword(user.email)\"\r\n                            >Reset Password</ion-button\r\n                          >\r\n                          <ion-button\r\n                            color=\"danger\"\r\n                            @click=\"deleteUser(user.id)\"\r\n                            >Hapus</ion-button\r\n                          >\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </ion-col>\r\n            </ion-row>\r\n          </ion-grid>\r\n        </div>\r\n        <ion-button style=\"color: white\" expand=\"block\" @click=\"exportToExcel\"\r\n          >Export ke Excel</ion-button\r\n        >\r\n      </ion-content>\r\n      <ion-toast\r\n        :is-open=\"toast.isOpen\"\r\n        :message=\"toast.message\"\r\n        :duration=\"toast.duration\"\r\n        :color=\"toast.color\"\r\n        @did-dismiss=\"() => (toast.isOpen = false)\"\r\n      ></ion-toast>\r\n\r\n      <ion-modal :is-open=\"isModalOpen\" @did-dismiss=\"closeModal\">\r\n        <ion-header>\r\n          <ion-toolbar>\r\n            <ion-title>Edit Pengguna</ion-title>\r\n            <ion-buttons slot=\"end\">\r\n              <ion-button @click=\"closeModal\">Close</ion-button>\r\n            </ion-buttons>\r\n          </ion-toolbar>\r\n        </ion-header>\r\n        <ion-content>\r\n          <ion-item v-if=\"selectedUser\">\r\n            <ion-label>Nama Lengkap</ion-label>\r\n            <ion-input v-model=\"selectedUser.fullName\"></ion-input>\r\n          </ion-item>\r\n          <ion-item v-if=\"selectedUser\">\r\n            <ion-label>Username</ion-label>\r\n            <ion-input v-model=\"selectedUser.username\"></ion-input>\r\n          </ion-item>\r\n          <ion-item v-if=\"selectedUser\">\r\n            <ion-label>Email</ion-label>\r\n            <ion-input v-model=\"selectedUser.email\"></ion-input>\r\n          </ion-item>\r\n          <ion-item v-if=\"selectedUser\">\r\n            <ion-label>Role</ion-label>\r\n            <ion-select v-model=\"selectedUser.role\">\r\n              <ion-select-option value=\"admin\">Admin</ion-select-option>\r\n              <ion-select-option value=\"siswa\">Siswa</ion-select-option>\r\n              <ion-select-option value=\"guru\">Guru</ion-select-option>\r\n            </ion-select>\r\n          </ion-item>\r\n          <ion-item v-if=\"selectedUser\">\r\n            <ion-label>Password Baru</ion-label>\r\n            <ion-input v-model=\"newPassword\" type=\"password\"></ion-input>\r\n          </ion-item>\r\n          <ion-button expand=\"block\" @click=\"saveUser\">Simpan</ion-button>\r\n        </ion-content>\r\n      </ion-modal>\r\n    </ion-content>\r\n  </ion-page>\r\n</template>\r\n\r\n<script setup>\r\nimport {\r\n  IonPage,\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonTitle,\r\n  IonBackButton,\r\n  IonContent,\r\n  IonRefresher,\r\n  IonRefresherContent,\r\n  IonItem,\r\n  IonLabel,\r\n  IonInput,\r\n  IonButton,\r\n  // IonList,\r\n  IonToast,\r\n  IonCol,\r\n  IonRow,\r\n  IonGrid,\r\n  IonModal,\r\n  IonSelect,\r\n  IonSelectOption,\r\n  IonButtons,\r\n} from \"@ionic/vue\";\r\nimport { ref, onMounted, computed } from \"vue\";\r\nimport {\r\n  getAuth,\r\n  onAuthStateChanged,\r\n  sendPasswordResetEmail,\r\n  updatePassword,\r\n} from \"firebase/auth\";\r\nimport {\r\n  getFirestore,\r\n  getDocs,\r\n  collection,\r\n  query,\r\n  where,\r\n  updateDoc,\r\n  doc,\r\n  deleteDoc,\r\n} from \"firebase/firestore\";\r\nimport { firebaseApp } from \"../firebase.js\";\r\nimport * as XLSX from \"xlsx\";\r\n\r\nconst auth = getAuth(firebaseApp);\r\nconst db = getFirestore(firebaseApp);\r\n\r\nconst users = ref([]);\r\nconst classes = ref([]);\r\nconst searchQuery = ref(\"\");\r\nconst toast = ref({\r\n  isOpen: false,\r\n  message: \"\",\r\n  duration: 2000,\r\n  color: \"success\",\r\n});\r\nconst isModalOpen = ref(false);\r\nconst selectedUser = ref({}); // Inisialisasi dengan objek kosong\r\nconst newPassword = ref(\"\"); // Password baru\r\n\r\nconst fetchClasses = async () => {\r\n  const querySnapshot = await getDocs(collection(db, \"kelas\"));\r\n  classes.value = querySnapshot.docs.map((doc) => ({\r\n    id: doc.id,\r\n    name: doc.data().name,\r\n  }));\r\n};\r\n\r\nconst getClassname = (classId) => {\r\n  const kelas = classes.value.find((kelas) => kelas.id === classId);\r\n  return kelas ? kelas.name : \"Tidak ada kelas\";\r\n};\r\n\r\nconst filteredUsers = computed(() => {\r\n  return users.value.filter((user) =>\r\n    user.fullName.toLowerCase().includes(searchQuery.value.toLowerCase())\r\n  );\r\n});\r\n\r\nconst fetchUsers = async () => {\r\n  const q = query(\r\n    collection(db, \"users\"),\r\n    where(\"fullName\", \">=\", searchQuery.value),\r\n    where(\"fullName\", \"<=\", searchQuery.value + \"\\uf8ff\")\r\n  );\r\n\r\n  try {\r\n    const querySnapshot = await getDocs(q);\r\n    users.value = querySnapshot.docs.map((doc) => ({\r\n      id: doc.id,\r\n      ...doc.data(),\r\n    }));\r\n    console.log(\"Data pengguna berhasil diambil:\", users.value);\r\n  } catch (error) {\r\n    console.error(\"Error fetching user data:\", error);\r\n    showToast(\"Terjadi kesalahan saat mengambil data pengguna\", \"danger\");\r\n  }\r\n};\r\n\r\nconst filterUsers = () => {\r\n  fetchUsers();\r\n};\r\n\r\nconst doRefresh = (event) => {\r\n  setTimeout(() => {\r\n    fetchUsers();\r\n    event.target.complete();\r\n  }, 2000);\r\n};\r\n\r\nconst showToast = (message, color) => {\r\n  toast.value = {\r\n    isOpen: true,\r\n    message: message,\r\n    duration: 2000,\r\n    color: color,\r\n  };\r\n};\r\n\r\nconst exportToExcel = () => {\r\n  const exportData = users.value.map((user) => ({\r\n    fullName: user.fullName,\r\n    username: user.username,\r\n    email: user.email,\r\n    role: user.role,\r\n    qrCode: user.qrCode,\r\n    status: user.status,\r\n  }));\r\n\r\n  const worksheet = XLSX.utils.json_to_sheet(exportData);\r\n  const workbook = XLSX.utils.book_new();\r\n  XLSX.utils.book_append_sheet(workbook, worksheet, \"Pengguna\");\r\n  XLSX.writeFile(workbook, \"daftar_pengguna.xlsx\");\r\n  showToast(\"Data pengguna berhasil diekspor\", \"success\");\r\n};\r\n\r\nconst editUser = (user) => {\r\n  selectedUser.value = { ...user };\r\n  isModalOpen.value = true;\r\n};\r\n\r\nconst saveUser = async () => {\r\n  try {\r\n    const userRef = doc(db, \"users\", selectedUser.value.id);\r\n    await updateDoc(userRef, {\r\n      fullName: selectedUser.value.fullName,\r\n      username: selectedUser.value.username,\r\n      email: selectedUser.value.email,\r\n      role: selectedUser.value.role,\r\n    });\r\n\r\n    if (newPassword.value) {\r\n      const user = await auth.getUser(selectedUser.value.id);\r\n      await updatePassword(user, newPassword.value);\r\n      newPassword.value = \"\";\r\n    }\r\n\r\n    showToast(\"Data pengguna berhasil diperbarui\", \"success\");\r\n    fetchUsers();\r\n    closeModal();\r\n  } catch (error) {\r\n    console.error(\"Error updating user data:\", error);\r\n    showToast(\"Terjadi kesalahan saat memperbarui data pengguna\", \"danger\");\r\n  }\r\n};\r\n\r\nconst resetPassword = async (email) => {\r\n  try {\r\n    await sendPasswordResetEmail(auth, email);\r\n    showToast(\"Email untuk reset password telah dikirim\", \"success\");\r\n  } catch (error) {\r\n    console.error(\"Error sending password reset email:\", error);\r\n    showToast(\"Terjadi kesalahan saat mengirim email reset password\", \"danger\");\r\n  }\r\n};\r\n\r\nconst changeStatus = async (user) => {\r\n  try {\r\n    const newStatus = user.status === \"aktif\" ? \"nonaktif\" : \"aktif\";\r\n    await updateDoc(doc(db, \"users\", user.id), { status: newStatus });\r\n    showToast(\r\n      `Status pengguna berhasil diubah menjadi ${newStatus}`,\r\n      \"success\"\r\n    );\r\n    fetchUsers();\r\n  } catch (error) {\r\n    console.error(\"Error updating user status:\", error);\r\n    showToast(\"Terjadi kesalahan saat mengubah status pengguna\", \"danger\");\r\n  }\r\n};\r\n\r\nconst deleteUser = async (userId) => {\r\n  try {\r\n    await deleteDoc(doc(db, \"users\", userId));\r\n    showToast(\"Pengguna berhasil dihapus\", \"success\");\r\n    fetchUsers();\r\n  } catch (error) {\r\n    console.error(\"Error deleting user:\", error);\r\n    showToast(\"Terjadi kesalahan saat menghapus pengguna\", \"danger\");\r\n  }\r\n};\r\n\r\nconst closeModal = () => {\r\n  isModalOpen.value = false;\r\n  selectedUser.value = {};\r\n  newPassword.value = \"\"; // Reset new password field\r\n};\r\n\r\nonMounted(() => {\r\n  onAuthStateChanged(auth, (user) => {\r\n    if (user) {\r\n      fetchUsers();\r\n      fetchClasses();\r\n    } else {\r\n      console.error(\"User not authenticated\");\r\n      showToast(\"Pengguna tidak terautentikasi\", \"danger\");\r\n    }\r\n  });\r\n});\r\n</script>\r\n\r\n<style>\r\n/* Custom styling if needed */\r\n.table-container {\r\n  overflow-x: auto;\r\n}\r\n.table-wrapper {\r\n  overflow-x: auto;\r\n}\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\nth,\r\ntd {\r\n  border: 1px solid #ddd;\r\n  padding: 8px;\r\n}\r\n\r\nth {\r\n  background-color: #f2f2f2;\r\n  text-align: left;\r\n}\r\n\r\ntbody tr:nth-child(even) {\r\n  background-color: #f9f9f9;\r\n}\r\n\r\ntbody tr:hover {\r\n  background-color: #f1f1f1;\r\n}\r\n</style>\r\n","import script from \"./HalamanPengguna.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HalamanPengguna.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HalamanPengguna.vue?vue&type=style&index=0&id=63e50d8b&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["auth","getAuth","firebaseApp","db","getFirestore","users","ref","classes","searchQuery","toast","isOpen","message","duration","color","isModalOpen","selectedUser","newPassword","fetchClasses","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","querySnapshot","wrap","_context","prev","next","getDocs","collection","sent","value","docs","map","doc","id","name","data","stop","apply","arguments","getClassname","classId","kelas","find","filteredUsers","computed","filter","user","fullName","toLowerCase","includes","fetchUsers","_ref2","_callee2","q","_context2","query","where","_objectSpread","console","log","t0","error","showToast","filterUsers","doRefresh","event","setTimeout","target","complete","exportToExcel","exportData","username","email","role","qrCode","status","worksheet","XLSX","json_to_sheet","workbook","book_new","book_append_sheet","editUser","saveUser","_ref3","_callee3","userRef","_context3","updateDoc","getUser","updatePassword","closeModal","resetPassword","_ref4","_callee4","_context4","sendPasswordResetEmail","_x","changeStatus","_ref5","_callee5","newStatus","_context5","concat","_x2","deleteUser","_ref6","_callee6","userId","_context6","deleteDoc","_x3","onMounted","onAuthStateChanged","__exports__"],"sourceRoot":""}