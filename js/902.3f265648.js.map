{"version":3,"file":"js/902.3f265648.js","mappings":"+SAiBA,IAAMA,GAASC,EAAAA,EAAAA,MACTC,GAAKC,EAAAA,EAAAA,OAEXC,EAAAA,EAAAA,KAAU,WACRC,GACF,IAEA,IAAMA,EAAiB,WACrB,IAAMC,GAAOC,EAAAA,EAAAA,OACbC,EAAAA,EAAAA,IAAmBF,EAAI,eAAAG,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAE,SAAAC,EAAOC,GAAI,IAAAC,EAAAC,EAAAC,EAAA,OAAAN,EAAAA,EAAAA,KAAAO,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,WAC9BP,EAAM,CAAFK,EAAAE,KAAA,eAAAF,EAAAE,KAAA,GAEgBC,EAAAA,EAAAA,KAAOC,EAAAA,EAAAA,IAAIrB,EAAI,QAASY,EAAKU,MAAK,OAAlDT,EAAOI,EAAAM,KACTV,EAAQW,UACJV,EAAWD,EAAQY,OACnBV,EAAWD,EAASY,KAGT,UAAbX,EACFjB,EAAO6B,KAAK,CAAEC,KAAM,WACE,SAAbb,EACTjB,EAAO6B,KAAK,CAAEC,KAAM,UACE,YAAbb,EACTjB,EAAO6B,KAAK,CAAEC,KAAM,aACE,UAAbb,EACTjB,EAAO6B,KAAK,CAAEC,KAAM,WAGpB9B,EAAO6B,KAAK,CAAEE,KAAM,WAItB/B,EAAO6B,KAAK,CAAEE,KAAM,UACrBZ,EAAAE,KAAA,eAGDrB,EAAO6B,KAAK,CAAEE,KAAM,UAAW,wBAAAZ,EAAAa,OAAA,GAAAnB,EAAA,KAElC,gBAAAoB,GAAA,OAAAxB,EAAAyB,MAAA,KAAAC,UAAA,EA7BsB,GA8BzB,E,sRCnDMC,EAAc,EAEpB,G","sources":["webpack://resep-bunda/./src/views/SplashScreen.vue","webpack://resep-bunda/./src/views/SplashScreen.vue?08fe"],"sourcesContent":["<template>\n  <ion-page>\n    <ion-content class=\"splash\">\n      <div class=\"container\">\n        <ion-spinner name=\"dots\" class=\"loader\" />\n      </div>\n    </ion-content>\n  </ion-page>\n</template>\n\n<script setup>\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport { getFirestore, doc, getDoc } from \"firebase/firestore\";\nimport { onMounted } from \"vue\";\nimport { IonContent, IonPage, IonSpinner } from \"@ionic/vue\";\nimport { useRouter } from \"vue-router\";\n\nconst router = useRouter();\nconst db = getFirestore();\n\nonMounted(() => {\n  checkAuthState();\n});\n\nconst checkAuthState = () => {\n  const auth = getAuth();\n  onAuthStateChanged(auth, async (user) => {\n    if (user) {\n      // Jika pengguna terautentikasi, periksa peran pengguna\n      const userDoc = await getDoc(doc(db, \"users\", user.uid));\n      if (userDoc.exists()) {\n        const userData = userDoc.data();\n        const userRole = userData.role;\n\n        // Pengalihan berdasarkan peran pengguna\n        if (userRole === \"admin\") {\n          router.push({ path: \"/admin\" });\n        } else if (userRole === \"guru\") {\n          router.push({ path: \"/guru\" });\n        } else if (userRole === \"petugas\") {\n          router.push({ path: \"/petugas\" });\n        } else if (userRole === \"siswa\") {\n          router.push({ path: \"/siswa\" });\n        } else {\n          // Pengalihan default jika peran tidak dikenali\n          router.push({ name: \"login\" });\n        }\n      } else {\n        // Pengguna tidak ditemukan di Firestore, arahkan ke login\n        router.push({ name: \"login\" });\n      }\n    } else {\n      // Jika pengguna tidak terautentikasi, arahkan ke halaman login\n      router.push({ name: \"login\" });\n    }\n  });\n};\n</script>\n\n<style>\nion-content.splash {\n  --background: #f5f5f3;\n}\n.splash .container {\n  margin-top: 60%;\n}\n.splash .container img.logo {\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  height: 250px;\n  width: 250px;\n  border-radius: 50%;\n  border: 5px solid white;\n}\n.splash h2.titleApp {\n  font-weight: 600;\n  text-align: center;\n  font-size: 2rem;\n  text-shadow: 1px 0px 1px #cccccc, 0px 1px 1px #eeeeee, 2px 1px 1px #cccccc,\n    1px 2px 1px #eeeeee, 3px 2px 1px #cccccc, 2px 3px 1px #eeeeee,\n    4px 3px 1px #cccccc, 3px 4px 1px #eeeeee, 5px 4px 1px #cccccc,\n    4px 5px 1px #eeeeee, 6px 5px 1px #cccccc, 5px 6px 1px #eeeeee,\n    7px 6px 1px #cccccc, 2px 2px 2px rgba(206, 206, 206, 0);\n  color: #444444;\n  margin-top: 0;\n  /* background: #f5f5f3; */\n}\n.splash .container .loader {\n  margin-top: -50px;\n  width: 100%;\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n}\n.splash ion-spinner.loader {\n  transform: scale(1.5);\n}\n</style>\n","import script from \"./SplashScreen.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SplashScreen.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SplashScreen.vue?vue&type=style&index=0&id=2ddb30d7&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["router","useRouter","db","getFirestore","onMounted","checkAuthState","auth","getAuth","onAuthStateChanged","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","user","userDoc","userData","userRole","wrap","_context","prev","next","getDoc","doc","uid","sent","exists","data","role","push","path","name","stop","_x","apply","arguments","__exports__"],"sourceRoot":""}